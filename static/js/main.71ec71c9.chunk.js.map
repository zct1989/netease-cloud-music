{"version":3,"sources":["core/http/request-object.ts","core/http/request-option.ts","core/http/extend-service.ts","core/decorators/request.decorators.ts","core/model/model.ts","core/http/request-params.ts","core/http/request-service.ts","assets/images/play-bg.jpg","core/http/enums.ts","store/router.store.tsx","layout/components/default/header.component.tsx","config/services/login.controller.ts","store/auth.store.tsx","services/login.service.ts","assets/icons/mail.svg","components/auth/user-login.tsx","components/auth/user-info.tsx","components/auth/user-auth.tsx","layout/components/default/side-menu.component.tsx","config/services/song.controller.ts","services/song.service.ts","shared/utils/media.ts","store/audio.store.tsx","layout/components/default/footer.component.tsx","shared/components/style.component.ts","config/services/banner.controller.ts","services/banner.service.ts","config/services/personalized.controller.ts","services/personalized.service.ts","assets/icons/calendar.svg","assets/icons/play.svg","components/items/songlist-item.tsx","components/items/private-content-item.tsx","components/items/music-item.tsx","components/items/mv-item.tsx","components/items/radio-item.tsx","pages/discover/recommend.tsx","pages/index.tsx","config/services/playlist.controller.ts","config/services/top.controller.ts","services/playlist.service.ts","shared/utils/common.ts","components/shared/music-list.tsx","config/services/comment.controller.ts","services/comment.service.ts","core/services/page.service.ts","components/shared/comment-list.tsx","components/shared/collector-list.tsx","pages/detail/song-list.tsx","config/services/top-list.controller.ts","services/rank.service.ts","components/discover/top-ranking/top-list.tsx","components/discover/top-ranking/top-block.tsx","pages/discover/top-ranking.tsx","config/services/dj.controller.ts","services/dj.service.ts","components/discover/broadcast/banner.tsx","components/discover/broadcast/cate-list.tsx","components/common/content-block.tsx","components/discover/broadcast/pay-gift.tsx","components/discover/broadcast/recommend-top.tsx","pages/discover/broadcast.tsx","components/discover/play-list/category-panel.tsx","components/discover/play-list/play-list-detail.tsx","pages/discover/playlist.tsx","Router.tsx","layout/default.layout.tsx","store/menu.store.tsx","store/index.tsx","App.tsx","serviceWorker.ts","config/app.config.ts","bootstrap/index.ts","bootstrap/http.boot.ts","index.tsx","core/http/index.ts","core/http/request-interceptor.ts"],"names":["RequestObject","requestServer","id","requestObservable","requestObserver","responseModel","requestState","RequestState","Ready","this","UUID","generate","Observable","observer","model","requestParams","Loading","requestOption","RequestOption","RequestService","getInstance","send","then","response","data","plainToClass","getExtendService","service","after","next","complete","finally","catch","error","EMPTY","before","url","getRequestUrl","headers","getRequestHeader","options","header","method","type","getParamsByMethod","params","paramsSerializer","Qs","stringify","arrayFormat","skipNulls","allowDots","Error","controller","action","append","filter","x","join","isGet","isGetMethod","filterEmptyData","RequestMethod","Get","Delete","includes","values","Object","entries","value","undefined","Array","length","every","forEach","key","ExtendService","Request","server","force","target","name","descriptor","generateRequestObject","object","setResponseModel","requestObject","_value","setRequestObject","call","Model","RequestParams","classToPlain","extendServices","callback","request","axiosInstance","instance","axios","create","baseURL","config","timeout","Accept","push","getOptions","interceptors","status","defined","interceptor","success","ex","requestCatchHandle","Promise","reject","RequestInterceptor","module","exports","RouterStore","window","location","hash","search","pathname","useState","_updateLocation","history","_updateHistory","_updateParams","updateLocation","updateHistory","updateParams","components","Wrapper","styled","section","HistoryWrap","div","MenuWrap","ToolBarWrap","HeaderMenuItem","SearchWrap","Header","props","state","currentMenu","className","getHistoryContainer","getMenuContainer","getSearchContainer","getToolbarContainer","of","routerStore","getMenuChildren","map","item","title","onClick","onSelectMenuItem","placeholder","prefix","allowClear","menuList","find","path","level","parent","menu","defaultItem","children","setTimeout","store","setState","Component","LoginController","login","loginService","AuthStore","_userValue","localStorage","getItem","JSON","parse","user","updateUser","email","password","subscribe","profile","setItem","logout","_extends","assign","i","arguments","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref3","d","_ref","svgRef","t","viewBox","width","height","ref","ForwardRef","forwardRef","FormContainer","ImgContainer","ActionContainer","UserLogin","rules","required","message","getImgContainer","getLoginForm","style","fontSize","color","component","MailSvg","getFieldDecorator","form","addonBefore","Password","getLoginAction","backgroundColor","block","onLogin","validateFields","errors","errorMsg","UserContainer","UserInfo","getUserContaienr","nickname","UserAuth","showUserInfo","showUserLogin","authStore","getUserContainer","getUserLogin","getUserInfo","getUserAvatar","getUserName","icon","src","avatarUrl","cursor","size","footer","visible","onCancel","ComponentWrap","ReactSVG","SideMenu","list","group","findCurrentMenu","menuContainer","onMenuClick","background","defaultSelectedKeys","getDefaultSelectKeys","mode","getItemList","getMenuItem","getGroupList","getMenuGroup","toString","reduce","result","Math","random","ItemGroup","Item","gutter","align","flexBasis","beforeInjection","svg","setAttribute","span","SongController","detail","SongService","Media","audioContext","s","AudioContext","suspend","resume","console","log","stop","onended","disconnect","decodeAudioData","start","err","resolve","xhr","XMLHttpRequest","open","responseType","onload","onerror","ontimeout","buffer","setBufferSource","createBufferSource","connect","destination","loop","offset","media","songService","AudioStore","music","_updateMusic","_getMusicUrl","br","getSongUrl","_getMusicDetail","getSongDetail","ids","play","zip","urlResult","musicResult","urlData","musicData","songs","MusicContainer","Footer","audioStore","getMusicContainer","getControlContainer","getActionContainer","al","ar","currentTime","picUrl","theme","FlexColumn","FlexRow","BannerController","banner","BannerService","PersonalizedController","personalized","newsong","djprogram","privatecontent","mv","PersonalizedService","fill","NameContainer","SongListItem","openSongListDetail","getNameContainer","alt","PlaySvg","convertPlayCount","playCount","count","floor","PrivateContentItem","sPicUrl","IndexContainer","InfoContainer","MusicItem","getIndexContainer","getInfoContainer","index","padStart","song","alias","artists","MVItem","artistName","RadioItem","program","radio","TodaySongListItem","Date","getDate","NewMusicContainer","MusicItemWrapper","Recommend","bannerService","personalizedService","banners","recommends","privates","radios","getBannerContainer","getSongListContainer","getPrivateContainer","getNewSongContainer","getMVContainer","getRadioContainer","getBannerList","getSongList","getPrivateContentList","getNewSongs","getMVList","getRadioList","targetId","imageUrl","getTodaySongListItem","require","CanlendarSvg","getBanner","getPersonalized","limit","getPrivateContent","getNewSongList","Index","PlayListController","subscribers","catlist","hot","TopController","playlist","PlayListService","tenThoursand","num","n","Number","parseInt","toFixed","dateFormat","date","fmt","o","getMonth","getHours","getMinutes","getSeconds","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","MusicList","columns","render","row","getColumnAction","getColumnName","getColumnSonger","dataIndex","getColumnTime","locale","emptyText","rowKey","pagination","dataSource","onRow","record","onDoubleClick","onSelectMusic","alia","time","moment","dt","minutes","seconds","audio","CommentController","CommentService","PageService","default","pageSize","pageIndex","total","pageSizeOpts","HotCommentsWrapper","CommentsWrapper","CommentItemWrapper","CommentList","pageService","hotComments","comments","getComments","getCommentEditor","getHotCommentContainer","getCommentContainer","rows","onChange","e","shape","getCommentItem","defaultPageSize","page","onPageChange","defaultCurrent","comment","isLatest","now","commentId","content","beReplied","beRepliedCommentId","fromNow","format","PlayListCommentList","commentService","getPlayListComment","CollectorList","playListService","collectors","getCollectorsList","collector","userId","paddingLeft","gender","1","2","getPlayListSubscribers","HeaderWrapper","SongList","getSongListDetail","getHeaderContainer","getTabsContainer","coverImgUrl","creator","createTime","tags","tracks","description","TabPane","tab","trackIds","commentCount","subscribedCount","getPlayListDetail","useParams","TopListController","topList","topArtists","RankService","Title","Body","TrackItem","TrackStatus","TopList","updateDate","trackUpdateTime","ToplistType","queryTrackList","queryArtistList","hiddenPlay","listType","slice","updateTime","getTopArtists","React","RankTitle","backgroundImage","updateDateStr","TrackList","cssName","trackIdInfo","atName","ratio","o_lr","lr","getIndexClassName","to","NoData","ArtistsList","lastRank","href","Content","TopBlock","marginRight","Official","AnyTop","TopRanking","artistTop","queryTopList","getOfficialList","getGlobalTopList","concat","getTopList","artistToplist","coverUrl","DjController","catelist","paygift","recommend","DjService","DjBanner","autoplay","targetType","pic","typeTitle","CateList","categories","getCateList","picWebUrl","splice","ContentBlock","PayGift","items","queryPaygift","rcmdText","lastProgramName","moneyFormat","originalPrice","Block","RecommendType","queryRecommendByType","typeId","djRadios","rcmdtext","Broadcast","hotMenus","getHotDjList","Panel","TypeItem","CategoryPanel","cTag","resData","getAllTags","all","padding","trigger","placement","getContent","allName","cateChange","v","cates","sub","category","PlayListDetail","playlistService","playDataSet","queryPlayList","prevProps","tag","nickName","getPlayListByTag","cat","order","playlists","Tags","Container","PlayList","getHotTags","getTagsElement","RouterContainer","useLocation","useHistory","useStore","useEffect","setPath","process","exact","Router","HeaderWrap","SideMenuWrap","FooterWrap","ContentWrap","main","DefaultLayout","layoutHeader","flex","position","layoutSideMenu","lauyoutContent","lauyoutFooter","MenuStore","updateMenu","update","providers","ProvidersComposer","reduceRight","Parent","Provider","App","Boolean","hostname","match","debug","REACT_APP_TIMEOUT","setConfig","appConfig","use","respone","bootstrap","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.71ec71c9.chunk.js","sourcesContent":["import { Observable, EMPTY, Subscriber } from 'rxjs'\nimport { RequestParams } from './request-params'\nimport { RequestOption } from './request-option'\nimport { IRequestServerConfig } from './interfaces'\nimport { RequestState } from './enums'\nimport { RequestService } from './request-service'\nimport { plainToClass } from 'class-transformer'\nimport UUID from 'uuidjs'\n\n/**\n * 请求对象\n */\nexport class RequestObject {\n  // 请求对象id\n  public readonly id\n\n  // 请求观察对象\n  public readonly requestObservable\n\n  // 请求服务对象\n  public readonly requestServer: IRequestServerConfig\n\n  // 请求观察者\n  private requestObserver!: Subscriber<any>\n\n  private responseModel\n\n  // 通讯状态\n  private requestState: RequestState = RequestState.Ready\n  /**\n   * 构造函数\n   */\n  constructor(requestServer: IRequestServerConfig) {\n    // 生成请求对象id\n    this.id = UUID.generate()\n    // 设置请求服务对象\n    this.requestServer = requestServer\n    // 设置可观察对象\n    this.requestObservable = new Observable(observer => {\n      // 设置观察者\n      this.requestObserver = observer\n    })\n  }\n\n  /**\n   * 设置响应数据模型\n   * @param model\n   */\n  public setResponseModel(model) {\n    this.responseModel = model\n  }\n\n  /**\n   * 发送网络请求\n   */\n  public request(requestParams: RequestParams): Observable<any> {\n    // 如果通讯实体未占用则发送通讯数据\n    if (this.requestState === RequestState.Ready) {\n      // 修改网络通讯状态\n      this.requestState = RequestState.Loading\n      // 生成通讯配置对象\n      const requestOption = new RequestOption(this.requestServer, requestParams)\n\n      // 发送网络请求\n      RequestService.getInstance()\n        .send(requestOption)\n        .then((response: any) => {\n          // 转换数据结构\n          let data\n\n          if (this.responseModel) {\n            data = plainToClass(this.responseModel, response)\n          } else {\n            data = response\n          }\n\n          // 应用扩展\n          for (const service of requestParams.getExtendService()) {\n            service.after && service.after(data, requestParams)\n          }\n\n          // 通讯结果正常\n          this.requestObserver.next(data)\n          this.requestObserver.complete()\n        })\n        .finally(() => {\n          // 重置通讯状态\n          this.requestState = RequestState.Ready\n        })\n        .catch(response => {\n          // 通讯结果异常\n          this.requestObserver.error(response.data)\n        })\n\n      // 返回观察对象\n      return this.requestObservable\n    } else {\n      // 通讯实体占用中\n      // 忽略进入的请求\n      return EMPTY\n    }\n  }\n}\n","import Qs from 'qs'\nimport { IRequestServerConfig } from './interfaces'\nimport { RequestParams } from './request-params'\nimport { RequestMethod } from './enums'\nimport { RequestService } from './request-service'\n/**\n * 请求配置对象\n */\nexport class RequestOption {\n  // 请求服务对象\n  private readonly requestServer: IRequestServerConfig\n  // 请求参数对象\n  private readonly requestParams: RequestParams\n  /**\n   * 构造函数\n   * @param requestServer 请求服务\n   * @param params 请求参数\n   */\n  constructor(\n    requestServer: IRequestServerConfig,\n    requestParams: RequestParams\n  ) {\n    this.requestServer = requestServer\n    this.requestParams = requestParams\n  }\n\n  /**\n   * 获取请求选项\n   */\n  public getOptions() {\n    // 应用扩展\n    for (const service of this.requestParams.getExtendService()) {\n      service.before && service.before(this.requestParams)\n    }\n\n    return {\n      url: RequestService.getRequestUrl\n        ? RequestService.getRequestUrl(this)\n        : this.getRequestUrl(),\n      headers: RequestService.getRequestHeader\n        ? RequestService.getRequestHeader(this)\n        : this.requestParams.options.header,\n      method: this.requestServer.type,\n      // 获取post请求参数\n      data: this.getParamsByMethod(false),\n      // 获取get请求参数\n      params: this.getParamsByMethod(true),\n      // 序列化参数:用于GET请求\n      paramsSerializer: params =>\n        Qs.stringify(params, {\n          arrayFormat: 'repeat',\n          skipNulls: true,\n          allowDots: true\n        })\n    }\n  }\n\n  /**\n   * 获取目标url地址\n   */\n  public getRequestUrl() {\n    if (!this.requestServer) {\n      throw new Error('server配置异常,请检查对应server配置')\n    }\n\n    // 服务地址数组\n    // 地址组合规则为\n    // : baseUrl/service/controller/action/append\n    const requestServerArray = [\n      this.requestServer.service || '',\n      this.requestServer.controller || '',\n      this.requestServer.action || '',\n      ...(this.requestParams.options.append\n        ? this.requestParams.options.append\n        : [])\n    ]\n\n    // 组合为url形式\n    return requestServerArray.filter(x => x).join('/')\n  }\n\n  /**\n   * 请求类型返回请求参数\n   */\n  private getParamsByMethod(isGet: boolean) {\n    // 请求返回非当前请求方式则返回{}\n    if (this.isGetMethod() !== isGet) {\n      return {}\n    }\n\n    // 根据请求方式返回数据\n    if (isGet) {\n      return this.filterEmptyData(this.requestParams.data)\n    } else {\n      return { ...this.requestParams.data }\n    }\n  }\n\n  /**\n   * 是否是get类型方法\n   */\n  private isGetMethod() {\n    return [RequestMethod.Get, RequestMethod.Delete].includes(\n      this.requestServer.type\n    )\n  }\n\n  /**\n   * 过滤空数据\n   * @param data\n   */\n  private filterEmptyData(values) {\n    // 初始进行浅拷贝\n    const data = { ...values }\n\n    // 过滤数据项\n    Object.entries(data)\n      .filter(([key, value]: [any, any]) => {\n        // 过滤空字符串\n        if (value === undefined || value === '') {\n          return true\n        }\n\n        // 过滤空数组\n        if (\n          value instanceof Array &&\n          (value.length === 0 || value.every(x => x === ''))\n        ) {\n          return true\n        }\n\n        return false\n      })\n      .forEach(([key, value]) => {\n        delete data[key]\n      })\n\n    return data\n  }\n}\n","import { RequestParams } from './request-params'\nexport abstract class ExtendService {\n  public before!: (params: RequestParams) => any\n\n  public after!: (option, params: RequestParams) => any\n}\n","import { RequestObject } from '../http/request-object'\nimport { RequestParams } from '../http/request-params'\nimport { IRequestServerConfig } from '../http/interfaces'\nimport { Model } from '../model'\n/**\n * 网络请求行为装饰器\n */\nexport function Request({\n  server,\n  model,\n  force\n}: {\n  server: IRequestServerConfig\n  model?: { prototype: Model }\n  force?: boolean\n}) {\n  return (target, name, descriptor) => {\n    const generateRequestObject = () => {\n      // 请求对象\n      const object = new RequestObject(server)\n\n      // 设置响应数据模型\n      if (model) {\n        object.setResponseModel(model)\n      }\n\n      return object\n    }\n\n    const requestObject = generateRequestObject()\n\n    // 存储历史方法\n    const _value = descriptor.value\n\n    // 传入请求方法\n    descriptor.value = (requestParams: RequestParams) => {\n      if (force) {\n        requestParams.setRequestObject(generateRequestObject())\n      } else {\n        // 设置请求对象\n        requestParams.setRequestObject(requestObject)\n      }\n\n      // 传入更新后的请求对象\n      return _value.call(target, requestParams)\n    }\n\n    return descriptor\n  }\n}\n","export abstract class Model {}\n","import { IRequestParamsOption } from './interfaces'\nimport { RequestObject } from './request-object'\nimport { Model } from '../model'\nimport { Observable } from 'rxjs'\nimport { RequestService } from './request-service'\nimport { ExtendService } from './extend-service'\nimport { classToPlain } from 'class-transformer'\n/**\n * 请求参数对象\n */\nexport class RequestParams {\n  public data: any\n  public options: IRequestParamsOption\n  private requestObject!: RequestObject\n  /**\n   * 构造函数\n   * @param data\n   * @param options\n   */\n  constructor(data?, options?: IRequestParamsOption) {\n    this.data = data instanceof Model ? classToPlain(data) : data || {}\n    this.options = options || {}\n  }\n\n  /**\n   * 设置请求对象\n   * @param requestObject\n   */\n  public setRequestObject(requestObject: RequestObject) {\n    this.requestObject = requestObject\n  }\n\n  /**\n   * 获取扩展服务\n   */\n  public getExtendService() {\n    const extendServices = this.options\n      ? Object.values(this.options).filter(\n          service => service instanceof ExtendService\n        )\n      : []\n    return [...extendServices, ...RequestService.extendServices]\n  }\n\n  /**\n   * 对数据进行转换\n   * @param callback\n   */\n  public map(callback) {\n    this.data = callback(this.data)\n  }\n\n  /**\n   * 发送网络请求\n   */\n  public request(): Observable<any> {\n    return this.requestObject.request(this)\n  }\n}\n","import axios, { AxiosInstance, AxiosResponse } from 'axios'\nimport { RequestOption } from './request-option'\nimport { RequestInterceptor } from './request-interceptor'\nimport { ExtendService } from './extend-service'\nexport class RequestService {\n  // 基础服务配置\n  public static config = {\n    server: '',\n    timeout: 1000 * 60 * 15\n  }\n\n  // 通讯服务单例\n  private static instance: RequestService\n\n  // 拦截器\n  public static interceptors = {\n    // 前置拦截器\n    before: [],\n    // 后置拦截器\n    after: [],\n    // 状态拦截器\n    status: new RequestInterceptor<boolean>(),\n    // 成功状态拦截器\n    success: new RequestInterceptor(),\n    // 失败状态拦截器\n    error: new RequestInterceptor()\n  }\n\n  // 生成URL地址拦截处理\n  public static getRequestUrl: (option: RequestOption) => string\n\n  // 生成请求头拦截处理\n  public static getRequestHeader: (option: RequestOption) => any\n\n  // 通讯异常处理\n  public static requestCatchHandle: (respone: AxiosResponse) => void\n\n  // 全局扩展服务数组\n  public static extendServices: ExtendService[] = []\n\n  /**\n   * 设置网络请求基础配置\n   * @param param\n   */\n  public static setConfig({ server, timeout }) {\n    RequestService.config.server = server\n    RequestService.config.timeout = timeout\n  }\n\n  /**\n   * 安装通讯扩展服务\n   * @param service\n   */\n  public static installExtendService(service: ExtendService) {\n    RequestService.extendServices.push(service)\n  }\n\n  /**\n   * 获取服务请求单例\n   */\n  public static getInstance() {\n    if (this.instance) {\n      return this.instance\n    }\n\n    return new RequestService()\n  }\n\n  // axios单例\n  private axiosInstance: AxiosInstance\n\n  /**\n   * 构造函数\n   */\n  constructor() {\n    RequestService.instance = this\n\n    // 创建axios实例\n    this.axiosInstance = axios.create({\n      baseURL: RequestService.config.server,\n      timeout: RequestService.config.timeout,\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }\n    })\n  }\n\n  /**\n   * 发送网络请求信息\n   * @param param\n   */\n  public send(requestOption: RequestOption) {\n    // 获取配置对象\n    const options = requestOption.getOptions()\n\n    // 发送通讯请求\n    return this.axiosInstance\n      .request({\n        // 默认配置对象\n        ...options\n      })\n      .then((response: AxiosResponse<any>) => {\n        // 网络通讯正常\n        // 无状态拦截器的情况下则返回通讯成功\n        if (!RequestService.interceptors.status.defined) {\n          return RequestService.interceptors.success.defined\n            ? RequestService.interceptors.success.interceptor(response)\n            : response\n        }\n\n        // 状态拦截器转换通讯状态\n        if (RequestService.interceptors.status.interceptor(response)) {\n          // 通讯成功\n          return RequestService.interceptors.success.defined\n            ? RequestService.interceptors.success.interceptor(response)\n            : response\n        } else {\n          // 通讯失败\n          return RequestService.interceptors.error.defined\n            ? RequestService.interceptors.error.interceptor(response)\n            : response\n        }\n      })\n      .catch(ex => {\n        if (RequestService.requestCatchHandle) {\n          RequestService.requestCatchHandle(ex.response)\n        }\n        return Promise.reject(ex)\n      })\n  }\n}\n","module.exports = \"data:image/jpeg;base64,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\"","/**\n * 请求方法类型\n */\nexport enum RequestMethod {\n  Get = 'GET',\n  Post = 'POST',\n  Put = 'PUT',\n  Delete = 'DELETE',\n  Options = 'OPTIONS',\n  Head = 'HEAD',\n  Patch = 'PATCH'\n}\n\n/**\n * 通讯状态\n */\nexport enum RequestState {\n  Ready, // 准备发送请求\n  Loading // 请求发送中\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Provider as StoreProvider } from \"reto\";\n\nexport function RouterStore() {\n  const { hash, search, pathname } = window.location;\n\n  const [location, _updateLocation] = useState({\n    hash,\n    search,\n    pathname\n  });\n\n  const [history, _updateHistory] = useState();\n\n  const [params, _updateParams] = useState();\n\n  function updateLocation(value) {\n    _updateLocation(value);\n  }\n\n  function updateHistory(value) {\n    _updateHistory(value);\n  }\n  function updateParams(value) {\n    _updateParams(value);\n  }\n\n  return {\n    location,\n    history,\n    params,\n    updateLocation,\n    updateHistory,\n    updateParams\n  };\n}\n\nexport const RouterProvider = props => {\n  return <StoreProvider of={RouterStore}>{props.children}</StoreProvider>;\n};\n","import React, { Component } from \"react\";\nimport { Icon, Input } from \"antd\";\nimport styled from \"styled-components\";\nimport { Consumer } from \"reto\";\nimport { RouterStore } from \"../../../store/router.store\";\nimport menuList from \"../../../assets/json/menu.json\";\n\nconst components = {\n  Wrapper: styled.section`\n    -webkit-app-region: drag;\n  `,\n  HistoryWrap: styled.div`\n    flex-basis: 200px;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    & > i {\n      padding: 10px;\n      cursor: pointer;\n    }\n  `,\n  MenuWrap: styled.div`\n    flex: 1;\n    display: flex;\n    flex-wrap: nowrap;\n  `,\n  ToolBarWrap: styled.div`\n    flex-basis: 150px;\n    display: flex;\n    justify-content: flex-end;\n    padding: 0 10px;\n    & > i {\n      padding: 0 8px;\n    }\n  `,\n  HeaderMenuItem: styled.div`\n    padding: 0 15px;\n    color: #7f7f7f;\n    cursor: pointer;\n    &:hover {\n      color: #000000;\n    }\n    &.actived {\n      color: #000000;\n      font-weight: bold;\n    }\n  `,\n  SearchWrap: styled.div`\n    flex-basis: 150px;\n    input {\n      border-radius: 20px;\n      height: 27px;\n      background: #f1f1f1;\n    }\n    .ant-input-group-addon {\n      border-radius: 20px;\n    }\n  `\n};\n\ninterface HeaderState {\n  currentMenu: any;\n}\n\nexport default class Header extends Component<{}, HeaderState> {\n  constructor(props) {\n    super(props);\n    this.state = { currentMenu: null };\n  }\n\n  public render() {\n    return (\n      <components.Wrapper className=\"full-absolute flex-row align-items-center\">\n        {this.getHistoryContainer()}\n        {this.getMenuContainer()}\n        {this.getSearchContainer()}\n        {this.getToolbarContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public getHistoryContainer() {\n    return (\n      <components.HistoryWrap className=\"full-height\">\n        <Icon type=\"left\" />\n        <Icon type=\"right\" />\n      </components.HistoryWrap>\n    );\n  }\n\n  public getMenuContainer() {\n    return (\n      <components.MenuWrap>\n        <Consumer of={RouterStore}>\n          {routerStore =>\n            this.getMenuChildren(routerStore.location).map(item => (\n              <components.HeaderMenuItem\n                key={item.title}\n                className={\n                  this.state.currentMenu &&\n                  this.state.currentMenu.title === item.title\n                    ? \"actived\"\n                    : \"\"\n                }\n                onClick={() => this.onSelectMenuItem(item, routerStore)}\n              >\n                {item.title}\n              </components.HeaderMenuItem>\n            ))\n          }\n        </Consumer>\n      </components.MenuWrap>\n    );\n  }\n\n  public getSearchContainer() {\n    return (\n      <components.SearchWrap>\n        <Input\n          placeholder=\"搜索\"\n          prefix={<Icon type=\"search\" />}\n          allowClear\n        ></Input>\n      </components.SearchWrap>\n    );\n  }\n\n  public getToolbarContainer() {\n    return (\n      <components.ToolBarWrap>\n        <Icon type=\"setting\" />\n        <Icon type=\"mail\" />\n        <Icon type=\"skin\" />\n      </components.ToolBarWrap>\n    );\n  }\n\n  public getMenuChildren(location) {\n    const target = menuList.find(x => x.path === location.pathname);\n\n    if (!target) return [];\n\n    if (target.level === 1) {\n      return menuList.filter(x => x.parent === target.id);\n    }\n\n    if (target.level === 2) {\n      return menuList.filter(x => x.parent === target.parent);\n    }\n\n    return [];\n  }\n\n  /**\n   * 设置默认菜单项\n   * @param menu\n   */\n  private setDefaultMenuItem(menu) {\n    let [defaultItem] = menu.children;\n    if (\n      !this.state.currentMenu ||\n      !menu.children.includes(this.state.currentMenu)\n    ) {\n      setTimeout(() => {\n        this.onSelectMenuItem(defaultItem, {});\n      });\n    }\n  }\n\n  /**\n   * 选择菜单项目\n   * @param item\n   */\n  public onSelectMenuItem(item, store) {\n    this.setState({ currentMenu: item });\n    if (!item.path) return;\n    store.history.push(item.path);\n  }\n}\n","import { RequestMethod } from '../../core/http'\nimport { ControllerConfig } from '../type.config'\n\n// 控制器名称\nconst controller = 'login'\n\n/**\n * 接口配置\n */\nexport const LoginController: ControllerConfig = {\n  // 获取Banner\n  login: {\n    controller,\n    type: RequestMethod.Get\n  }\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Provider as StoreProvider } from \"reto\";\nimport { LoginService } from \"~/services/login.service\";\nimport { RequestParams } from \"~/core/http\";\n\nconst loginService = new LoginService();\n\nexport interface User {\n  avatarUrl: string;\n  backgroundUrl: string;\n  birthday: number;\n  city: number;\n  description: string;\n  detailDescription: string;\n  followeds: number;\n  follows: number;\n  gender: number;\n  mutual: boolean;\n  nickname: string;\n  playlistCount: number;\n  province: number;\n  userId: number;\n  userType: number;\n  vipType: number;\n}\n\nexport function AuthStore() {\n  const _userKey = \"$user\";\n  const _userValue = localStorage.getItem(_userKey);\n  const [user, updateUser] = useState<User>(\n    _userValue ? JSON.parse(_userValue) : null\n  );\n\n  /**\n   * 用户登录\n   * @param param0\n   */\n  function login({ email, password }) {\n    loginService\n      .login(\n        new RequestParams({\n          email,\n          password\n        })\n      )\n      .subscribe(({ profile }) => {\n        updateUser(profile);\n        localStorage.setItem(_userKey, JSON.stringify(profile));\n      });\n  }\n\n  function logout() {}\n\n  return {\n    user,\n    login,\n    logout\n  };\n}\n\nexport const AuthStoreProvider = props => {\n  return <StoreProvider of={AuthStore}>{props.children}</StoreProvider>;\n};\n","import { Request, RequestParams } from '../core/http'\nimport { Observable } from 'rxjs'\nimport { LoginController } from '~/config/services/login.controller'\n\n/**\n * Login API服务\n */\nexport class LoginService {\n  /**\n   * 登录\n   * @param requestParams\n   */\n  @Request({\n    server: LoginController.login\n  })\n  public login(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", {\n  type: \"text/css\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M170.666667 128l682.666667 0q52.992 0 90.496 37.504t37.504 90.496l0 512q0 52.992-37.504 90.496t-90.496 37.504l-682.666667 0q-52.992 0-90.496-37.504t-37.504-90.496l0-512q0-52.992 37.504-90.496t90.496-37.504zM896 768l0-466.005333-357.333333 285.994667q-11.349333 9.344-26.666667 9.344t-26.666667-9.344l-357.333333-285.994667 0 466.005333q0 17.664 12.501333 30.165333t30.165333 12.501333l682.666667 0q17.664 0 30.165333-12.501333t12.501333-30.165333zM853.333333 213.333333l-682.666667 0q-6.314667 0-13.994667 2.346667l355.328 284.330667 355.328-284.330667q-7.68-2.346667-13.994667-2.346667z\",\n  \"p-id\": 2843\n});\n\nvar SvgMail = function SvgMail(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    t: 1579517676447,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    \"p-id\": 2842,\n    width: 200,\n    height: 200,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMail, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/mail.c845b269.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Form, Input, Icon, Button, message } from \"antd\";\nimport FormItem from \"antd/lib/form/FormItem\";\nimport { FormComponentProps } from \"antd/lib/form\";\nimport { ReactComponent as MailSvg } from \"~/assets/icons/mail.svg\";\nimport { AuthStore } from \"~/store/auth.store\";\nimport { Consumer } from \"reto\";\nconst components = {\n  Wrapper: styled.section``,\n  FormContainer: styled.div`\n    .ant-row.ant-form-item {\n      margin-bottom: 0px;\n    }\n    .ant-form-item-control {\n      line-height: 30px;\n    }\n    .ant-form-explain {\n      display: none;\n    }\n\n    input {\n      height: 40px;\n      border-radius: 0;\n    }\n\n    .email {\n      .ant-input-group-addon {\n        border-radius: 5px 0 0 0;\n      }\n\n      input {\n        border-radius: 0 5px 0 0;\n      }\n    }\n\n    .password {\n      .ant-input-group-addon {\n        border-radius: 0 0 0 5px;\n      }\n\n      input {\n        border-radius: 0 0 5px 0;\n      }\n    }\n  `,\n  ImgContainer: styled.div`\n    height: 200px;\n  `,\n  ActionContainer: styled.div`\n    margin-top: 30px;\n    margin-bottom: 30px;\n\n    button {\n      border: none;\n    }\n  `\n};\n\ninterface UserLoginProps extends FormComponentProps {}\n\ninterface UserLoginState {}\n\nexport class UserLogin extends Component<UserLoginProps, UserLoginState> {\n  /**\n   * 验证规则\n   */\n  private rules = {\n    email: [{ required: true, message: \"请输入你的邮箱账号\" }],\n    password: [{ required: true, message: \"请输入你的邮箱密码\" }]\n  };\n\n  public render() {\n    return (\n      <components.Wrapper>\n        {this.getImgContainer()}\n        {this.getLoginForm()}\n      </components.Wrapper>\n    );\n  }\n\n  public getImgContainer() {\n    return (\n      <components.ImgContainer className=\"flex-row align-items-center justify-content-center\">\n        <Icon\n          style={{ fontSize: 96, color: \"#EB9FA0\" }}\n          component={MailSvg}\n        ></Icon>\n      </components.ImgContainer>\n    );\n  }\n\n  public getLoginForm() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <components.FormContainer className=\"flex-row align-items-center justify-content-center\">\n        <Form>\n          <FormItem className=\"email\">\n            {getFieldDecorator(\"email\", { rules: this.rules.email })(\n              <Input\n                addonBefore={<Icon type=\"mail\"></Icon>}\n                type=\"email\"\n                placeholder={this.rules.email[0].message}\n              ></Input>\n            )}\n          </FormItem>\n          <FormItem className=\"password\">\n            {getFieldDecorator(\"password\", { rules: this.rules.password })(\n              <Input.Password\n                addonBefore={<Icon type=\"lock\"></Icon>}\n                placeholder={this.rules.password[0].message}\n              ></Input.Password>\n            )}\n          </FormItem>\n\n          {this.getLoginAction()}\n        </Form>\n      </components.FormContainer>\n    );\n  }\n\n  public getLoginAction() {\n    return (\n      <components.ActionContainer>\n        <Consumer of={AuthStore}>\n          {store => (\n            <Button\n              style={{\n                fontSize: \"16px\",\n                height: \"40px\",\n                color: \"#ffffff\",\n                backgroundColor: \"#CA4436\"\n              }}\n              block\n              onClick={() => this.onLogin(store)}\n            >\n              登录\n            </Button>\n          )}\n        </Consumer>\n      </components.ActionContainer>\n    );\n  }\n\n  private onLogin({ login }) {\n    const { form } = this.props;\n    form.validateFields((errors: any, values) => {\n      if (!errors) {\n        login(values);\n      } else {\n        const [{ errors: error }] = Object.values(errors);\n        const [{ message: errorMsg }] = error;\n        message.error(errorMsg);\n      }\n    });\n  }\n}\n\nexport default Form.create<UserLoginProps>({})(UserLogin);\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { AuthStore } from \"~/store/auth.store\";\nimport { Consumer } from \"reto\";\n\nconst components = {\n  Wrapper: styled.section``,\n  UserContainer: styled.div``\n};\n\ninterface UserInfoProps {}\n\ninterface UserInfoState {}\n\nexport default class UserInfo extends Component<UserInfoProps, UserInfoState> {\n  public render() {\n    return (\n      <components.Wrapper>\n        <Consumer of={AuthStore}>\n          {store => this.getUserContaienr(store)}\n        </Consumer>\n      </components.Wrapper>\n    );\n  }\n\n  public getUserContaienr({ user, logout }) {\n    return <components.UserContainer>{user.nickname}</components.UserContainer>;\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { AuthStore } from \"~/store/auth.store\";\nimport { Consumer } from \"reto\";\nimport { Avatar, Icon, Modal } from \"antd\";\nimport UserLogin from \"./user-login\";\nimport UserInfo from \"./user-info\";\nconst components = {\n  Wrapper: styled.section``,\n  UserContainer: styled.div`\n    padding: 10px;\n    & > * {\n      margin-left: 10px;\n    }\n\n    .username {\n      font-weight: 500;\n    }\n  `\n};\n\ninterface UserAuthProps {}\n\ninterface UserAuthState {\n  showUserLogin: boolean;\n  showUserInfo: boolean;\n}\n\nexport default class UserAuth extends Component<UserAuthProps, UserAuthState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showUserInfo: false,\n      showUserLogin: false\n    };\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <Consumer of={AuthStore}>\n          {authStore => this.getUserContainer(authStore)}\n        </Consumer>\n        {this.getUserLogin()}\n        {this.getUserInfo()}\n      </components.Wrapper>\n    );\n  }\n\n  public getUserContainer({ user, login, logout }) {\n    const showUserInfo = () => this.setState({ showUserInfo: true });\n    const showUserLogin = () => this.setState({ showUserLogin: true });\n\n    if (user && this.state.showUserLogin) {\n      setTimeout(() => {\n        this.setState({\n          showUserLogin: false\n        });\n      });\n    }\n\n    if (!user && this.state.showUserInfo) {\n      setTimeout(() => {\n        this.setState({\n          showUserInfo: false\n        });\n      });\n    }\n\n    return (\n      <components.UserContainer\n        className=\"flex-row align-items-center\"\n        onClick={user ? showUserInfo : showUserLogin}\n      >\n        {this.getUserAvatar(user)}\n        {this.getUserName(user)}\n        <Icon type=\"caret-right\" />\n      </components.UserContainer>\n    );\n  }\n\n  public getUserAvatar(user) {\n    const props = {\n      icon: user ? undefined : \"user\",\n      src: user ? user.avatarUrl : undefined\n    };\n\n    return <Avatar style={{ cursor: \"pointer\" }} size={40} {...props}></Avatar>;\n  }\n\n  public getUserName(user) {\n    return <div className=\"username\">{user ? user.nickname : \"未登录\"}</div>;\n  }\n\n  private getUserLogin() {\n    return (\n      <Modal\n        width={350}\n        footer={null}\n        visible={this.state.showUserLogin}\n        onCancel={() => this.setState({ showUserLogin: false })}\n      >\n        <UserLogin></UserLogin>\n      </Modal>\n    );\n  }\n\n  private getUserInfo() {\n    return (\n      <Modal\n        width={400}\n        footer={null}\n        visible={this.state.showUserInfo}\n        onCancel={() => this.setState({ showUserInfo: false })}\n      >\n        <UserInfo></UserInfo>\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Menu, Row, Col } from \"antd\";\nimport menuList from \"../../../assets/json/menu.json\";\nimport { ReactSVG } from \"react-svg\";\nimport { Consumer } from \"reto\";\nimport styled from \"styled-components\";\nimport { RouterStore } from \"../../../store/router.store\";\nimport UserAuth from \"~/components/auth/user-auth\";\n\nconst components = {\n  ComponentWrap: styled.section`\n    .ant-menu-item {\n      padding-left: 5px !important;\n    }\n    .ant-menu-item.ant-menu-item-active {\n      color: #000;\n      fill: #000;\n    }\n\n    .ant-menu-item.ant-menu-item-selected {\n      color: red;\n      fill: red;\n\n      &::after {\n        border-right-color: #a2a2a2;\n      }\n    }\n\n    .ant-menu:not(.ant-menu-horizontal) .ant-menu-item-selected {\n      background-color: #e2e2e2;\n    }\n\n    .ant-menu-item-group-title {\n      font-size: 12px;\n    }\n  `,\n  ReactSVG: styled(ReactSVG)`\n    width: 10px;\n    height: 32px;\n  `\n};\n\nexport default class SideMenu extends Component {\n  private findCurrentMenu(list, key) {\n    for (let item of list) {\n      if (item.title === key) {\n        return item;\n      }\n\n      if (item.group) {\n        return this.findCurrentMenu(item.children, key);\n      }\n    }\n  }\n\n  public onUserClick() {}\n\n  public render() {\n    return (\n      <components.ComponentWrap>\n        <UserAuth></UserAuth>\n        {this.menuContainer()}\n      </components.ComponentWrap>\n    );\n  }\n\n  public menuContainer() {\n    return (\n      <Consumer of={RouterStore}>\n        {routerStore => (\n          <Menu\n            onClick={this.onMenuClick(routerStore)}\n            style={{ width: 200, background: \"transparent\" }}\n            defaultSelectedKeys={this.getDefaultSelectKeys(routerStore)}\n            mode=\"inline\"\n          >\n            {this.getItemList().map(item => this.getMenuItem(item))},\n            {this.getGroupList().map(item => this.getMenuGroup(item))}\n          </Menu>\n        )}\n      </Consumer>\n    );\n  }\n\n  public onMenuClick(routerStore) {\n    return ({ key }) => {\n      const item = menuList.find(x => x.id.toString() === key);\n\n      if (item && item.path) {\n        routerStore.history.push(item.path);\n      }\n    };\n  }\n\n  public getItemList() {\n    return menuList.filter(x => x.level === 1 && !x.group);\n  }\n\n  public getGroupList() {\n    return menuList\n      .filter(x => x.group && x.level === 1)\n      .reduce((result, value) => {\n        let target = result.find(x => x.title === value.group);\n\n        if (!target) {\n          target = {\n            title: value.group,\n            path: Math.random(),\n            children: []\n          };\n          result.push(target);\n        }\n\n        target.children.push(value);\n\n        return result;\n      }, [] as any[]);\n  }\n\n  public getDefaultSelectKeys(routerStore) {\n    const { location } = routerStore;\n    let target = menuList.find(x => x.path === location.pathname) as any;\n\n    if (!target) return [];\n\n    if (target.level !== 1) {\n      target = menuList.find(x => x.id === target.parent);\n    }\n\n    return [target.id.toString()];\n  }\n\n  public getMenuGroup(group) {\n    return (\n      <Menu.ItemGroup key={group.title} title={group.title}>\n        {group.children.map(x => this.getMenuItem(x))}\n      </Menu.ItemGroup>\n    );\n  }\n\n  public getMenuItem(item) {\n    return (\n      <Menu.Item key={item.id}>\n        <Row gutter={8} align=\"middle\" type=\"flex\">\n          <Col\n            style={{ flexBasis: \"40px\" }}\n            className=\"flex-row justify-content-center align-items-center\"\n          >\n            <components.ReactSVG\n              src={`icons/${item.icon}.svg`}\n              beforeInjection={svg => {\n                svg.setAttribute(\n                  \"style\",\n                  \"height: 20px;width:20px;line-height:20px;\"\n                );\n              }}\n            />\n          </Col>\n          <Col style={{ fontSize: \"12px\" }} span={18}>\n            {item.title}\n          </Col>\n        </Row>\n      </Menu.Item>\n    );\n  }\n}\n","import { RequestMethod } from \"../../core/http\";\nimport { ControllerConfig } from \"../type.config\";\n\nconst Controller = \"song\";\n\n/**\n * 歌曲接口配置\n */\nexport const SongController: ControllerConfig = {\n  detail: {\n    controller: Controller,\n    action: 'detail',\n    type: RequestMethod.Get\n  },\n  url: {\n    controller: Controller,\n    action: 'url',\n    type: RequestMethod.Get\n  }\n};\n","import { Request, RequestParams } from \"../core/http\";\nimport { Observable } from \"rxjs\";\nimport { SongController } from \"~/config/services/song.controller\";\n\n/**\n * 歌曲 API服务\n */\nexport class SongService {\n  /**\n   * 歌曲详情\n   * @param requestParams\n   */\n  @Request({\n    server: SongController.detail\n  })\n  public getSongDetail(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n  * 歌曲URL\n  * @param requestParams\n  */\n  @Request({\n    server: SongController.url\n  })\n  public getSongUrl(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n}\n","\ninterface MediaOption {\n  source: string[],\n  loop: boolean,\n  volume: number,\n  onPlayOver?: Function,\n  onPlayEnd?: Function,\n  onPlayError?: Function\n}\n\n\nexport class Media {\n  // 音频上下文\n  private readonly audioContext: AudioContext\n  // 音频数据源\n  private source: AudioBufferSourceNode\n\n  constructor() {\n    this.audioContext = new window.AudioContext()\n    this.audioContext.suspend()\n  }\n\n  /**\n   * 播放音乐\n   * @param url \n   */\n  play(url: string) {\n    if (this.audioContext.state !== \"running\") {\n      this.audioContext.resume()\n    }\n    if (this.source) {\n      console.log(this.source)\n      this.source.stop()\n      this.source.onended = null\n      this.source.disconnect()\n    }\n\n    this.request(url)\n      .then(response => this.decodeAudioData(response))\n      .then(() => this.start(0))\n      .catch(err => {\n        // 播放异常回调\n        // const { onPlayError } = this.options\n        // onPlayError && onPlayError(err)\n      })\n  }\n\n\n\n  public puase() {\n    this.audioContext.suspend()\n  }\n\n  public resume() {\n    this.audioContext.resume()\n  }\n\n  /**\n   * 请求音乐数据\n   * @param source \n   */\n  request(source: string) {\n    return new Promise((resolve, reject) => {\n      let xhr = new XMLHttpRequest()\n      xhr.open('GET', source, true)\n      xhr.responseType = 'arraybuffer'\n      // 请求完成\n      xhr.onload = () => resolve(xhr.response)\n      // 请求异常\n      xhr.onerror = (error) => reject(error)\n      // 请求超时\n      xhr.ontimeout = () => reject('timeouts')\n      xhr.send()\n    })\n  }\n\n  /**\n   * 解析音乐数据\n   * @param response \n   */\n  decodeAudioData(response) {\n    return this.audioContext.decodeAudioData(response)\n      .then(buffer => {\n        this.setBufferSource(buffer)\n      })\n  }\n\n  /**\n   * 设置播放数据源\n   * @param buffer \n   */\n  setBufferSource(buffer: AudioBuffer) {\n    this.source = this.audioContext.createBufferSource()\n    this.source.connect(this.audioContext.destination); // 连接到输出源\n    this.source.buffer = buffer\n\n  }\n\n  setOptions() {\n    // let { loop, volume } = this.options\n    // if (loop != null) this.setLoop(loop)\n    // if (volume != null) this.setVolume()\n  }\n\n  setLoop(loop) {\n    // if (typeof loop !== 'boolean') throw new Error('expected parameter is boolean type')\n    // this.bufferSource.loop = loop\n    // this.options.loop = loop\n  }\n  s\n  /**\n   * @param {number} val 设置音量\n   */\n  setVolume(val = 1) {\n    // if (val >= 0 && val <= 1) {\n    //   this.gain.gain.value = val //** 2\n    //   this.options.volume = val\n    //   return\n    // }\n    // throw new Error('value is out of range and expected range from 0 to 1')\n  }\n\n\n\n  start(offset) {\n    this.source.start(0)\n  }\n}","import React from \"react\";\nimport { useState } from \"react\";\nimport { Provider as StoreProvider } from \"reto\";\nimport { SongService } from \"../services/song.service\";\nimport { RequestParams } from \"../core/http\";\nimport { Media } from \"../shared/utils/media\";\nimport { zip } from \"rxjs\";\n\nconst media = new Media();\nconst songService = new SongService();\n\nexport function AudioStore() {\n  const [music, _updateMusic] = useState();\n  /**\n   * 播放音乐\n   * @param id\n   */\n  const play = (id: number, br = 320000) => {\n    if (music && music.id === id) {\n      return;\n    }\n\n    zip(_getMusicUrl(id, br), _getMusicDetail(id)).subscribe(\n      ([urlResult, musicResult]) => {\n        const {\n          data: [urlData]\n        } = urlResult;\n        // 播放音乐\n        media.play(urlData.url);\n\n        const {\n          songs: [musicData]\n        } = musicResult;\n        // 更新当前播放音乐\n        _updateMusic(musicData);\n      }\n    );\n  };\n\n  const _getMusicUrl = (id, br) => {\n    return songService.getSongUrl(new RequestParams({ id, br }));\n  };\n\n  const _getMusicDetail = id => {\n    return songService.getSongDetail(new RequestParams({ ids: [id] }));\n  };\n\n  return {\n    music,\n    play,\n    media\n  };\n}\n\nexport const AudioStoreProvider = props => {\n  return <StoreProvider of={AudioStore}>{props.children}</StoreProvider>;\n};\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col, Icon } from \"antd\";\nimport { Consumer } from \"reto\";\nimport { AudioStore } from \"~/store/audio.store\";\n\nconst components = {\n  Wrapper: styled.section`\n    padding: 0 10px;\n    height: 100%;\n    width: 100%;\n  `,\n  MusicContainer: styled.div`\n    height: 100%;\n    img {\n      width: 40px;\n      height: 40px;\n      border-radius: 10px;\n      margin-right: 10px;\n    }\n    i {\n      margin: 0 10px;\n      cursor: pointer;\n    }\n    .name {\n      font-size: 12px;\n    }\n    .progress {\n      font-size: 10px;\n      color: #e2e2e2;\n    }\n  `\n};\n\ninterface MusicListProps {\n  ids: number[];\n}\n\ninterface MusicListState {\n  songs: any[];\n}\n\nexport default class Footer extends Component {\n  public render() {\n    return (\n      <components.Wrapper>\n        <Consumer of={AudioStore}>\n          {audioStore => (\n            <Row className=\"full\">\n              <Col className=\"full-height\" span={8}>\n                {this.getMusicContainer(audioStore)}\n              </Col>\n              <Col className=\"full-height\" span={8}>\n                {this.getControlContainer(audioStore)}\n              </Col>\n              <Col className=\"full-height\" span={8}>\n                {this.getActionContainer(audioStore)}\n              </Col>\n            </Row>\n          )}\n        </Consumer>\n      </components.Wrapper>\n    );\n  }\n\n  public getMusicContainer(store) {\n    if (!store.music) {\n      return <></>;\n    }\n    const { al, ar } = store.music;\n\n    console.log(store.media.audioContext.currentTime);\n    return (\n      <components.MusicContainer className=\"flex-row align-items-center\">\n        <img src={al.picUrl}></img>\n        <div>\n          <div className=\"name\">\n            {store.music.name} - {ar.map(x => x.name).join(\"/\")}\n          </div>\n          <div className=\"progress\"></div>\n        </div>\n      </components.MusicContainer>\n    );\n  }\n\n  public getControlContainer(store) {\n    return (\n      <components.MusicContainer className=\"full-height flex-row justify-content-center align-items-center\">\n        <Icon type=\"heart\" style={{ fontSize: 18 }} />\n        <Icon\n          style={{ color: \"#C94436\", fontSize: 24 }}\n          type=\"step-backward\"\n          theme=\"filled\"\n        />\n        <Icon\n          style={{ color: \"#C94436\", fontSize: 36 }}\n          type=\"play-circle\"\n          theme=\"filled\"\n        />\n        <Icon\n          style={{ color: \"#C94436\", fontSize: 24 }}\n          type=\"step-forward\"\n          theme=\"filled\"\n        />\n        <Icon type=\"share-alt\" style={{ fontSize: 18 }} />\n      </components.MusicContainer>\n    );\n  }\n\n  public getActionContainer(store) {\n    return <components.MusicContainer></components.MusicContainer>;\n  }\n}\n","import styled from \"styled-components\";\n\nexport const FlexColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n`;\n\nexport const FlexRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n`;\n","import { RequestMethod } from '../../core/http'\nimport { ControllerConfig } from '../type.config'\n\n// 控制器名称\nconst controller = 'banner'\n\n/**\n * Banner接口配置\n */\nexport const BannerController: ControllerConfig = {\n  // 获取Banner\n  banner: {\n    controller,\n    type: RequestMethod.Get\n  }\n}\n","import { BannerController } from '../config/services/banner.controller'\nimport { Request, RequestParams } from '../core/http'\nimport { Observable } from 'rxjs'\n\n/**\n * Banner API服务\n */\nexport class BannerService {\n  /**\n   * 查询Banner\n   * @param requestParams\n   */\n  @Request({\n    server: BannerController.banner\n  })\n  public getBanner(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n}\n","import { RequestMethod } from '../../core/http'\nimport { ControllerConfig } from '../type.config'\n\n// 控制器名称\nconst controller = 'personalized'\n\n/**\n * personalized接口配置\n */\nexport const PersonalizedController: ControllerConfig = {\n  // 获取Banner\n  personalized: {\n    controller,\n    type: RequestMethod.Get\n  },\n  // 推荐新音乐\n  newsong: {\n    controller,\n    action: \"newsong\",\n    type: RequestMethod.Get\n  },\n  // 推荐电台\n  djprogram: {\n    controller,\n    action: \"djprogram\",\n    type: RequestMethod.Get\n  },\n  // 独家放送\n  privatecontent: {\n    controller,\n    action: \"privatecontent\",\n    type: RequestMethod.Get\n  },\n  // 推荐MV\n  mv: {\n    controller,\n    action: \"mv\",\n    type: RequestMethod.Get\n  },\n}\n","import { PersonalizedController } from '../config/services/personalized.controller'\nimport { Request, RequestParams } from '../core/http'\nimport { Observable } from 'rxjs'\n/**\n * Banner API服务\n */\nexport class PersonalizedService {\n  /**\n   * 查询推荐歌单\n   * @param requestParams\n   */\n  @Request({\n    server: PersonalizedController.personalized,\n  })\n  public getPersonalized(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n\n  /**\n   * 查询独家放送\n   * @param requestParams\n   */\n  @Request({\n    server: PersonalizedController.privatecontent\n  })\n  public getPrivateContent(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n\n  /**\n  * 查询最新音乐\n  * @param requestParams\n  */\n  @Request({\n    server: PersonalizedController.newsong\n  })\n  public getNewSongList(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n\n  /**\n  * 查询MV\n  * @param requestParams\n  */\n  @Request({\n    server: PersonalizedController.mv\n  })\n  public getMVList(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n  /**\n   * 推荐电台\n   * @param requestParams\n   */\n  @Request({\n    server: PersonalizedController.djprogram\n  })\n  public getRadioList(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n}\n\n\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", {\n  type: \"text/css\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M768 153.6v25.6a25.6 25.6 0 1 1-51.2 0V153.6H307.2v25.6a25.6 25.6 0 0 1-51.2 0V153.6H153.6a51.2 51.2 0 0 0-51.2 51.2v153.6h819.2V204.8a51.2 51.2 0 0 0-51.2-51.2h-102.4z m0-51.2h102.4a102.4 102.4 0 0 1 102.4 102.4v665.6a102.4 102.4 0 0 1-102.4 102.4H153.6a102.4 102.4 0 0 1-102.4-102.4V204.8a102.4 102.4 0 0 1 102.4-102.4h102.4v-25.6a25.6 25.6 0 0 1 51.2 0V102.4h409.6v-25.6a25.6 25.6 0 1 1 51.2 0V102.4zM102.4 409.6v460.8a51.2 51.2 0 0 0 51.2 51.2h716.8a51.2 51.2 0 0 0 51.2-51.2V409.6H102.4z\",\n  fill: \"#ffffff\",\n  \"p-id\": 3886\n});\n\nvar SvgCalendar = function SvgCalendar(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    t: 1578746178787,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    \"p-id\": 3885,\n    width: 200,\n    height: 200,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCalendar, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/calendar.e4bf36a8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", {\n  type: \"text/css\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M228.97664 141.85472A25.6 25.6 0 0 0 225.28 155.10528v713.79456a25.6 25.6 0 0 0 38.85056 21.90336l546.51392-330.60864c26.61376-16.1024 35.13856-50.72896 19.03616-77.34272a56.32 56.32 0 0 0-19.03616-19.03616L264.13056 133.20192a25.6 25.6 0 0 0-35.15392 8.6528zM174.08 868.89984V155.10528a76.8 76.8 0 0 1 11.08992-39.75168c21.95456-36.29056 69.1712-47.91296 105.46176-25.9584l546.51392 330.61376a107.52 107.52 0 0 1 36.34688 36.34176c30.73536 50.80576 14.464 116.9152-36.34688 147.65056l-546.5088 330.61376A76.8 76.8 0 0 1 250.88 945.69984c-42.41408 0-76.8-34.3808-76.8-76.8z\",\n  \"p-id\": 1157\n});\n\nvar SvgPlay = function SvgPlay(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    t: 1578672832056,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    \"p-id\": 1156,\n    width: 200,\n    height: 200,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPlay, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play.0db1aaa9.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\nimport React, { Component } from \"react\";\nimport { Icon } from \"antd\";\nimport { ReactComponent as PlaySvg } from \"../../assets/icons/play.svg\";\nimport { Consumer } from \"reto\";\nimport { RouterStore } from \"~/store/router.store\";\n\nconst components = {\n  Wrapper: styled.section`\n    width: 20%;\n    padding: 5px 10px;\n    border-radius: 10px;\n    position: relative;\n    cursor: pointer;\n  `,\n  ImgContainer: styled.div`\n    position: relative;\n\n    &:hover {\n      .item-play-icon {\n        display: flex;\n      }\n    }\n\n    img {\n      width: 100%;\n      border-radius: 10px;\n    }\n\n    .item-play-count {\n      position: absolute;\n      top: 5px;\n      right: 5px;\n      font-size: 12px;\n      color: #fff;\n      fill: #fff;\n      i {\n        margin-right: 3px;\n      }\n    }\n\n    .item-play-icon {\n      display: none;\n      position: absolute;\n      right: 10px;\n      bottom: 10px;\n      width: 30px;\n      height: 30px;\n      border-radius: 30px;\n      background-color: rgba(255, 255, 255, 0.4);\n\n      justify-content: center;\n      align-items: center;\n      svg {\n        width: 20px;\n        height: 20px;\n        fill: red;\n      }\n    }\n  `,\n  NameContainer: styled.div``\n};\n\ninterface SongListItemProps {\n  data: {\n    id: number;\n    picUrl: string;\n    name: string;\n    playCount: number;\n  };\n}\n\ninterface SongListItemState {}\n\n/**\n * 歌单项组件\n */\nexport default class SongListItem extends Component<\n  SongListItemProps,\n  SongListItemState\n> {\n  public render() {\n    const { data } = this.props;\n\n    return (\n      <Consumer of={RouterStore}>\n        {routerStore => (\n          <components.Wrapper\n            onClick={() => this.openSongListDetail(routerStore, data.id)}\n          >\n            {this.getImgContainer()}\n            {this.getNameContainer()}\n          </components.Wrapper>\n        )}\n      </Consumer>\n    );\n  }\n\n  /**\n   * 获取图片容器\n   */\n  public getImgContainer() {\n    const { data } = this.props;\n\n    return (\n      <components.ImgContainer>\n        <img alt=\"\" src={data.picUrl}></img>\n        <div className=\"item-play-count\">\n          <Icon component={PlaySvg as any}></Icon>\n          <span>{this.convertPlayCount(data.playCount)}</span>\n        </div>\n        <div className=\"item-play-icon\">\n          <Icon type=\"caret-right\" />\n        </div>\n      </components.ImgContainer>\n    );\n  }\n\n  /**\n   * 获取名称容器\n   */\n  public getNameContainer() {\n    const { data } = this.props;\n    return <components.NameContainer>{data.name}</components.NameContainer>;\n  }\n\n  /**\n   * 转换播放数\n   * @param count\n   */\n  private convertPlayCount(count) {\n    if (count > 10000) {\n      return `${Math.floor(count / 10000)}万`;\n    } else {\n      return count;\n    }\n  }\n\n  private openSongListDetail(routerStore, id) {\n    routerStore.history.push(`/detail/song-list/${id}`);\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nconst components = {\n  Wrapper: styled.section`\n    width: 25%;\n    padding: 5px 10px;\n    border-radius: 10px;\n    position: relative;\n    cursor: pointer;\n  `,\n  ImgContainer: styled.div`\n    img {\n      width: 100%;\n      border-radius: 10px;\n    }\n  `,\n  NameContainer: styled.div`\n    margin-top: 5px;\n    height: 3em;\n    font-size: 12px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: pre-wrap;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n\n    &:hover {\n      font-weight: 500;\n    }\n  `\n};\n\ninterface PrivateContentItemProps {\n  data: {\n    id: number;\n    sPicUrl: string;\n    name: string;\n  };\n}\n\ninterface PrivateContentItemState {}\n\nexport default class PrivateContentItem extends Component<\n  PrivateContentItemProps,\n  PrivateContentItemState\n> {\n  public render() {\n    return (\n      <components.Wrapper>\n        {this.getImgContainer()}\n        {this.getNameContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public getImgContainer() {\n    const { data } = this.props;\n\n    return (\n      <components.ImgContainer>\n        <img alt=\"\" src={data.sPicUrl}></img>\n      </components.ImgContainer>\n    );\n  }\n\n  public getNameContainer() {\n    const { data } = this.props;\n\n    return <components.NameContainer>{data.name}</components.NameContainer>;\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nconst components = {\n  Wrapper: styled.section`\n    height: 100px;\n    width: 50%;\n\n    padding: 5px 10px;\n    border-radius: 10px;\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    &:hover {\n      background-color: #f5f5f5;\n    }\n\n    img {\n      height: 80%;\n      border-radius: 10px;\n    }\n  `,\n  ImgContainer: styled.div`\n    flex: 1;\n  `,\n  IndexContainer: styled.div`\n    line-height: 100px;\n    padding: 0 10px;\n    color: #b7b7b7;\n  `,\n  InfoContainer: styled.div`\n    flex: 4;\n    display: flex;\n    align-items: center;\n    justify-content: between;\n\n    .alias {\n      color: #7f7f7f;\n    }\n\n    .artists {\n      color: #7f7f7f;\n    }\n  `\n};\n\ninterface MusicItemProps {\n  index?: number;\n  data: {\n    id: number;\n    picUrl: string;\n    name: string;\n    song: any;\n  };\n}\n\ninterface MusicItemState {}\n\nexport default class MusicItem extends Component<\n  MusicItemProps,\n  MusicItemState\n> {\n  public render() {\n    return (\n      <components.Wrapper>\n        {this.getImgContainer()}\n        {this.getIndexContainer()}\n        {this.getInfoContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public getImgContainer() {\n    const { data } = this.props;\n\n    return <img alt=\"\" src={data.picUrl}></img>;\n  }\n\n  public getIndexContainer() {\n    return (\n      <components.IndexContainer>\n        {(this.props.index || \"\").toString().padStart(2, \"0\")}\n      </components.IndexContainer>\n    );\n  }\n\n  public getInfoContainer() {\n    const {\n      data: { song }\n    } = this.props;\n    return (\n      <components.InfoContainer>\n        <div className=\"flex-column justify-content-center\">\n          <div>\n            <span>{song.name} </span>\n            <span className=\"alias\">\n              {song.alias.length > 0 && `(${song.alias.join(\" / \")})`}\n            </span>\n          </div>\n          <div className=\"artists\">\n            {song.artists.map(x => x.name).join(\" / \")}\n          </div>\n        </div>\n        <div></div>\n      </components.InfoContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Icon } from \"antd\";\nimport { ReactComponent as PlaySvg } from \"../../assets/icons/play.svg\";\n\nconst components = {\n  Wrapper: styled.section`\n    width: 25%;\n    padding: 5px 10px;\n    border-radius: 10px;\n    position: relative;\n    cursor: pointer;\n  `,\n  ImgContainer: styled.div`\n    img {\n      width: 100%;\n      border-radius: 10px;\n    }\n\n    .item-play-count {\n      position: absolute;\n      top: 5px;\n      right: 20px;\n      font-size: 12px;\n      color: #fff;\n      fill: #fff;\n      i {\n        margin-right: 3px;\n      }\n    }\n  `,\n  NameContainer: styled.div`\n    .name {\n      margin-top: 5px;\n      font-size: 12px;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n    .artist {\n      color: #7f7f7f;\n    }\n    &:hover {\n      font-weight: 500;\n    }\n  `\n};\n\ninterface MVItemProps {\n  data: {\n    id: number;\n    picUrl: string;\n    playCount: string;\n    name: string;\n    artistName: string;\n  };\n}\n\ninterface MVItemState {}\n\nexport default class MVItem extends Component<MVItemProps, MVItemState> {\n  public render() {\n    return (\n      <components.Wrapper>\n        {this.getImgContainer()}\n        {this.getNameContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public getImgContainer() {\n    const { data } = this.props;\n\n    return (\n      <components.ImgContainer>\n        <img alt=\"\" src={data.picUrl}></img>\n\n        <div className=\"item-play-count\">\n          <Icon component={PlaySvg as any}></Icon>\n          <span>{this.convertPlayCount(data.playCount)}</span>\n        </div>\n      </components.ImgContainer>\n    );\n  }\n\n  public getNameContainer() {\n    const { data } = this.props;\n\n    return (\n      <components.NameContainer>\n        <div className=\"name\">{data.name}</div>\n        <div className=\"artist\">{data.artistName}</div>\n      </components.NameContainer>\n    );\n  }\n\n  /**\n   * 转换播放数\n   * @param count\n   */\n  private convertPlayCount(count) {\n    if (count > 10000) {\n      return `${Math.floor(count / 10000)}万`;\n    } else {\n      return count;\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n\nconst components = {\n  Wrapper: styled.section`\n    margin-bottom: 20px;\n    height: 100px;\n    width: 33.3%;\n    overflow: hidden;\n    padding: 5px 10px;\n    border-radius: 10px;\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    &:hover {\n      background-color: #f5f5f5;\n    }\n\n    img {\n      height: 100%;\n      border-radius: 10px;\n    }\n  `,\n  ImgContainer: styled.div`\n    line-height: 100px;\n    position: relative;\n  `,\n  IndexContainer: styled.div`\n    line-height: 100px;\n    padding: 0 10px;\n    color: #b7b7b7;\n  `,\n  InfoContainer: styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    padding-left: 10px;\n\n    .name {\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n    .radio {\n      color: #aeaeae;\n    }\n  `\n};\ninterface RadioItemProps {\n  data: {\n    id: number;\n    picUrl: string;\n    name: string;\n    program: any;\n  };\n}\n\ninterface RadioItemState {}\n\nexport default class RadioItem extends Component<\n  RadioItemProps,\n  RadioItemState\n> {\n  public render() {\n    return (\n      <components.Wrapper>\n        {this.getImgContainer()}\n        {this.getInfoContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public getImgContainer() {\n    const { data } = this.props;\n    return <img alt=\"\" src={data.picUrl}></img>;\n  }\n\n  public getInfoContainer() {\n    const { data } = this.props;\n    return (\n      <components.InfoContainer>\n        <div className=\"name\">{data.name}</div>\n        <div className=\"radio\">{data.program.radio.name}</div>\n      </components.InfoContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Carousel, Icon } from \"antd\";\nimport { BannerService } from \"~/services/banner.service\";\nimport { RequestParams } from \"~/core/http\";\nimport { PersonalizedService } from \"~/services/personalized.service\";\nimport { ReactComponent as CanlendarSvg } from \"~/assets/icons/calendar.svg\";\nimport SongListItem from \"~/components/items/songlist-item\";\nimport PrivateContentItem from \"~/components/items/private-content-item\";\nimport MusicItem from \"~/components/items/music-item\";\nimport MVItem from \"~/components/items/mv-item\";\nimport RadioItem from \"~/components/items/radio-item\";\nconst components = {\n  Wrapper: styled.section`\n    .ant-carousel {\n      .slick-slide {\n        text-align: center;\n        background: #364d79;\n        overflow: hidden;\n        border-radius: 10px;\n      }\n    }\n    h3 {\n      margin-bottom: 0;\n      margin-right: 5px;\n    }\n    .margin-bottom {\n      margin-bottom: 30px;\n    }\n  `,\n  TodaySongListItem: styled.div`\n    width: 20%;\n    padding: 5px 10px;\n    border-radius: 10px;\n    position: relative;\n    cursor: pointer;\n\n    img {\n      width: 100%;\n      border-radius: 10px;\n    }\n\n    .today {\n      position: relative;\n\n      i {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        svg {\n          height: 50%;\n          width: 50%;\n        }\n\n        &::after {\n          position: absolute;\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          font-size: 24px;\n          color: #fff;\n          font-weight: bold;\n          margin-top: 15%;\n          content: \"${new Date().getDate()}\";\n          transform: scaleY(1.25);\n        }\n      }\n    }\n  `,\n  NewMusicContainer: styled.div`\n    .container {\n      height: 500px;\n    }\n  `,\n  MusicItemWrapper: styled(MusicItem)`\n    width: 50%;\n    height: 100px;\n    background: red;\n    padding: 10px;\n  `\n};\n\ninterface RecommendState {\n  banners: any[];\n  recommends: any[];\n  privates: any[];\n  songs: any[];\n  mv: any[];\n  radios: any[];\n}\n\n// 使用通过hooks创建通过component访问的store\nexport default class Recommend extends Component<{}, RecommendState> {\n  private bannerService = new BannerService();\n  private personalizedService = new PersonalizedService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      banners: [],\n      recommends: [],\n      privates: [],\n      songs: [],\n      mv: [],\n      radios: []\n    };\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        {this.state.banners.length ? this.getBannerContainer() : null}\n        {this.getSongListContainer()}\n        {this.getPrivateContainer()}\n        {this.getNewSongContainer()}\n        {this.getMVContainer()}\n        {this.getRadioContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public componentDidMount() {\n    this.getBannerList();\n    this.getSongList();\n    this.getPrivateContentList();\n    this.getNewSongs();\n    this.getMVList();\n    this.getRadioList();\n  }\n\n  /**\n   * 获取Banner内容\n   */\n  public getBannerContainer() {\n    return (\n      <div className=\"margin-bottom\">\n        <Carousel>\n          {this.state.banners.map(banner => (\n            <img alt=\"\" key={banner.targetId} src={banner.imageUrl}></img>\n          ))}\n        </Carousel>\n      </div>\n    );\n  }\n\n  /**\n   * 获取推荐歌单内容\n   */\n  public getSongListContainer() {\n    return (\n      <div className=\"margin-bottom\">\n        <div className=\"flex-row align-items-center margin-bottom\">\n          <h3>推荐歌单</h3>\n          <Icon type=\"right\"></Icon>\n        </div>\n        <div className=\"flex-row\">\n          {this.getTodaySongListItem()}\n          {this.state.recommends.map(item => (\n            <SongListItem key={item.id} data={item}></SongListItem>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * 获取今日歌单内容\n   */\n  public getTodaySongListItem() {\n    return (\n      <components.TodaySongListItem>\n        <div className=\"today\">\n          <img alt=\"\" src={require(\"../../assets/images/play-bg.jpg\")}></img>\n          <Icon component={CanlendarSvg as any}></Icon>\n        </div>\n        <div className=\"item-name\">每日歌曲推荐</div>\n        <div className=\"item-play-count\"></div>\n      </components.TodaySongListItem>\n    );\n  }\n\n  /**\n   * 获取独家放送内容\n   */\n  public getPrivateContainer() {\n    return (\n      <div className=\"margin-bottom\">\n        <div className=\"flex-row align-items-center margin-bottom\">\n          <h3>独家放送</h3>\n          <Icon type=\"right\"></Icon>\n        </div>\n        <div className=\"flex-row\">\n          {this.state.privates.map(item => (\n            <PrivateContentItem key={item.id} data={item}></PrivateContentItem>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  public getNewSongContainer() {\n    return (\n      <components.NewMusicContainer className=\"margin-bottom\">\n        <div className=\"flex-row align-items-center margin-bottom\">\n          <h3>最新音乐</h3>\n          <Icon type=\"right\"></Icon>\n        </div>\n        <div className=\"container flex-column flex-wrap\">\n          {this.state.songs.map((item, index) => (\n            <components.MusicItemWrapper\n              key={item.id}\n              data={item}\n              index={index + 1}\n            ></components.MusicItemWrapper>\n          ))}\n        </div>\n      </components.NewMusicContainer>\n    );\n  }\n\n  public getMVContainer() {\n    return (\n      <div className=\"margin-bottom\">\n        <div className=\"flex-row align-items-center margin-bottom\">\n          <h3>推荐MV</h3>\n          <Icon type=\"right\"></Icon>\n        </div>\n        <div className=\"flex-row\">\n          {this.state.mv.map(item => (\n            <MVItem key={item.id} data={item}></MVItem>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  public getRadioContainer() {\n    return (\n      <div className=\"margin-bottom\">\n        <div className=\"flex-row align-items-center margin-bottom\">\n          <h3>主播电台</h3>\n          <Icon type=\"right\"></Icon>\n        </div>\n        <div className=\"flex-row\">\n          {this.state.radios.map(item => (\n            <RadioItem key={item.id} data={item}></RadioItem>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * 获取Banner列表\n   */\n  private getBannerList() {\n    this.bannerService\n      .getBanner(new RequestParams())\n      .subscribe(({ banners }) => {\n        this.setState({\n          banners\n        });\n      });\n  }\n\n  /**\n   * 获取推荐Songlist列表\n   */\n  private getSongList() {\n    this.personalizedService\n      .getPersonalized(\n        new RequestParams({\n          limit: 9\n        })\n      )\n      .subscribe(({ result }) => {\n        this.setState({\n          recommends: result\n        });\n      });\n  }\n\n  /**\n   * 获取独家放送列表\n   */\n  public getPrivateContentList() {\n    this.personalizedService\n      .getPrivateContent(new RequestParams())\n      .subscribe(({ result }) => {\n        this.setState({\n          privates: result\n        });\n      });\n  }\n\n  private getNewSongs() {\n    this.personalizedService\n      .getNewSongList(new RequestParams())\n      .subscribe(({ result }) => {\n        this.setState({\n          songs: result\n        });\n      });\n  }\n\n  private getMVList() {\n    this.personalizedService\n      .getMVList(new RequestParams())\n      .subscribe(({ result }) => {\n        this.setState({\n          mv: result\n        });\n      });\n  }\n\n  private getRadioList() {\n    this.personalizedService\n      .getRadioList(new RequestParams())\n      .subscribe(({ result }) => {\n        this.setState({\n          radios: result\n        });\n      });\n  }\n}\n","import React, { Component } from \"react\";\n\n// 使用通过hooks创建通过component访问的store\nexport default class Index extends Component {\n  public getStore() {\n    return <div></div>;\n  }\n  public render() {\n    return <div></div>;\n  }\n}\n\n// 使用基于hooks的store\n// export default function() {\n//   // 声明一个新的叫做 “count” 的 state 变量\n//   const [count, setCount] = useState(0);\n\n//   return (\n//     <div>\n//       <p>You clicked {count} times</p>\n//       <button onClick={() => setCount(count + 1)}>Click me</button>\n//     </div>\n//   );\n// }\n","import { RequestMethod } from \"../../core/http\";\nimport { ControllerConfig } from \"../type.config\";\n\n// 控制器名称\nconst controller = \"playlist\";\n\n/**\n * 歌单 接口配置\n */\nexport const PlayListController: ControllerConfig = {\n  // 获取PlayListDetail\n  detail: {\n    controller,\n    action: \"detail\",\n    type: RequestMethod.Get\n  },\n  // 获取歌单收藏者\n  subscribers: {\n    controller,\n    action: \"subscribers\",\n    type: RequestMethod.Get\n  },\n  // 歌单分类\n  catlist: {\n    controller,\n    action: \"catlist\",\n    type: RequestMethod.Get\n  },\n  // 热门标签（分类）\n  hot: {\n    controller,\n    action: \"hot\",\n    type: RequestMethod.Get\n  }\n};\n","import { RequestMethod } from \"../../core/http\";\nimport { ControllerConfig } from \"../type.config\";\n\nconst Controller = \"top\";\n\n/**\n * 热门推荐\n */\nexport const TopController: ControllerConfig = {\n  /**\n   * 排行项目列表\n   */\n  playlist: {\n    controller: Controller,\n    action: \"playlist\",\n    type: RequestMethod.Get\n  }\n};\n","import { Request, RequestParams } from \"../core/http\";\nimport { Observable } from \"rxjs\";\nimport { PlayListController } from \"~/config/services/playlist.controller\";\nimport { TopController } from \"~/config/services/top.controller\";\n\n/**\n * Banner API服务\n */\nexport class PlayListService {\n  /**\n   * 查询歌单\n   * @param requestParams\n   */\n  @Request({\n    server: PlayListController.detail,\n    force: true\n  })\n  public getPlayListDetail(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 获取歌单收藏者\n   * @param requestParams\n   */\n  @Request({\n    server: PlayListController.subscribers\n  })\n  public getPlayListSubscribers(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 获取所以标签\n   * @param requestParams\n   */\n  @Request({\n    server: PlayListController.catlist\n  })\n  public getAllTags(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 获取热门标签\n   * @param requestParams\n   */\n  @Request({\n    server: PlayListController.hot\n  })\n  public getHotTags(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 查询热门歌单\n   * @param requestParams\n   */\n  @Request({\n    server: TopController.playlist\n  })\n  public getPlayListByTag(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n}\n","/**\n * 转换数字单位\n * @param num\n */\nexport function tenThoursand(num?: number | string): string {\n  if (!num) return \"\";\n\n  try {\n    const n = typeof num === \"number\" ? num : Number.parseInt(num);\n    let str = n > 10000 ? (n / 10000).toFixed(0) + \"万\" : n.toFixed(0);\n    return str;\n  } catch (error) {\n    return num.toString();\n  }\n}\n\n/**\n * 日期格式化\n * @param date\n * @param fmt 默认值为短日期格式\n */\nexport function dateFormat(date, fmt = \"yyyy-MM-dd\"): string {\n  // 空数据处理\n  if (date === null || date === undefined || date === \"\") {\n    return \"\";\n  }\n\n  // 如果是时间戳则转化为时间\n  if (typeof date === \"number\") {\n    date = new Date(date);\n  }\n\n  let o = {\n    \"M+\": date.getMonth() + 1, // 月份\n    \"d+\": date.getDate(), // 日\n    \"h+\": date.getHours(), // 小时\n    \"m+\": date.getMinutes(), // 分\n    \"s+\": date.getSeconds(), // 秒\n    \"q+\": Math.floor((date.getMonth() + 3) / 3), // 季度\n    S: date.getMilliseconds() // 毫秒\n  };\n\n  if (/(y+)/.test(fmt))\n    fmt = fmt.replace(\n      RegExp.$1,\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\n    );\n\n  for (var k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(fmt))\n      fmt = fmt.replace(\n        RegExp.$1,\n        RegExp.$1.length === 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length)\n      );\n  }\n  return fmt;\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { SongService } from \"~/services/song.service\";\nimport { RequestParams } from \"~/core/http\";\nimport { Table, Row, Col, Icon } from \"antd\";\nimport moment from \"moment\";\nimport { Consumer } from \"reto\";\nimport { AudioStore } from \"~/store/audio.store\";\n\nconst components = {\n  Wrapper: styled.section`\n    .ant-table-thead > tr > th {\n      padding: 5px;\n      font-size: 12px;\n      font-weight: normal !important;\n    }\n    .ant-table-tbody > tr {\n      /* &:hover {\n        background-color: #adaa4a;\n      } */\n      & > td {\n        padding: 10px;\n        font-size: 12px;\n      }\n    }\n\n    .time,\n    .alias {\n      color: #aeaeae;\n    }\n  `\n};\n\ninterface MusicListProps {\n  ids: number[];\n}\n\ninterface MusicListState {\n  songs: any[];\n}\n\nexport default class MusicList extends Component<\n  MusicListProps,\n  MusicListState\n> {\n  private songService = new SongService();\n\n  columns = [\n    {\n      key: \"ftype\",\n      render: (item, row, index) => (++index).toString().padStart(2, \"0\")\n    },\n    {\n      width: 60,\n      render: (id, row, index) => this.getColumnAction(id),\n      key: \"id\"\n    },\n    {\n      title: \"音乐标题\",\n      render: row => this.getColumnName(row),\n      key: \"name\"\n    },\n    {\n      title: \"歌手\",\n      render: row => this.getColumnSonger(row),\n      key: \"ar\"\n    },\n    {\n      title: \"专辑\",\n      dataIndex: \"al.name\",\n      key: \"al.id\"\n    },\n    {\n      title: \"时长\",\n      render: row => this.getColumnTime(row),\n      key: \"dt\"\n    }\n  ];\n\n  constructor(props) {\n    super(props);\n    this.state = { songs: [] };\n  }\n\n  public componentDidMount() {\n    this.getSongDetail();\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <Consumer of={AudioStore}>\n          {audioStore => (\n            <Table\n              locale={{ emptyText: \"暂无数据\" }}\n              rowKey=\"id\"\n              pagination={false}\n              dataSource={this.state.songs}\n              columns={this.columns}\n              onRow={record => ({\n                onDoubleClick: () => this.onSelectMusic(record, audioStore)\n              })}\n            ></Table>\n          )}\n        </Consumer>\n      </components.Wrapper>\n    );\n  }\n\n  public getColumnName(row) {\n    const alias = row.alia.length ? `(${row.alia.map(x => x).join(\"/\")})` : \"\";\n\n    return (\n      <div>\n        <span>{row.name}</span>\n        <span className=\"alias\">{alias}</span>\n      </div>\n    );\n  }\n\n  public getColumnSonger(row) {\n    const alias = row.ar.length ? row.ar.map(x => x.name).join(\"/\") : \"\";\n\n    return <div>{alias}</div>;\n  }\n\n  public getColumnTime(row) {\n    const time = moment(row.dt);\n    return (\n      <div className=\"time\">\n        {time\n          .minutes()\n          .toString()\n          .padStart(2, \"0\")}\n        :{time.seconds()}\n      </div>\n    );\n  }\n\n  public getColumnAction(id) {\n    return (\n      <Row>\n        <Col span={12}>\n          <Icon type=\"heart\" />\n        </Col>\n        <Col span={12}>\n          <Icon type=\"download\" />\n        </Col>\n      </Row>\n    );\n  }\n\n  private getSongDetail() {\n    this.songService\n      .getSongDetail(\n        new RequestParams({\n          ids: this.props.ids.join(\",\")\n        })\n      )\n      .subscribe(({ songs }) => {\n        this.setState({\n          songs\n        });\n      });\n  }\n\n  private onSelectMusic({ id }, audio) {\n    audio.play(id);\n  }\n}\n","import { RequestMethod } from '../../core/http'\nimport { ControllerConfig } from '../type.config'\n\n// 控制器名称\nconst controller = 'comment'\n\n/**\n * 接口配置\n */\nexport const CommentController: ControllerConfig = {\n  // 获取歌单评论\n  playlist: {\n    controller,\n    action: 'playlist',\n    type: RequestMethod.Get\n  }\n}\n","import { Request, RequestParams } from '../core/http'\nimport { Observable } from 'rxjs'\nimport { CommentController } from '../config/services/comment.controller'\n\n/**\n * Banner API服务\n */\nexport class CommentService {\n  /**\n   * 查询Banner\n   * @param requestParams\n   */\n  @Request({\n    server: CommentController.playlist\n  })\n  public getPlayListComment(requestParams: RequestParams): Observable<any> {\n    return requestParams.request()\n  }\n}\n","import { ExtendService } from '../http'\n\nexport class PageService extends ExtendService {\n  public default = {\n    pageSize: 20,\n    pageIndex: 1,\n    total: 0,\n    pageSizeOpts: [20, 50, 100, 200]\n  }\n  public pageSize: number\n  public pageIndex: number\n  public total: number\n  public pageSizeOpts: number[]\n\n  constructor(data?: any) {\n    super()\n\n    if (data) this.default = { ...this.default, ...data }\n\n    this.pageSize = this.default.pageSize\n    this.pageIndex = this.default.pageIndex || 1\n    this.total = this.default.total\n    this.pageSizeOpts = this.default.pageSizeOpts\n  }\n\n\n\n  public before = params => {\n    params.data = {\n      ...params.data,\n      limit: this.pageSize,\n      offset: (this.pageIndex - 1) * this.pageSize\n    }\n  }\n\n  public after = (data: any, params) => {\n    if (data.total) {\n      this.total = data.total\n    }\n  }\n\n  public reset() {\n    this.pageIndex = this.default.pageIndex\n    this.pageSize = this.default.pageSize\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { RequestParams } from \"~/core/http\";\nimport { CommentService } from \"~/services/comment.service\";\nimport { Observable } from \"rxjs\";\nimport { Avatar, Button, Icon, Divider, Pagination, Row, Col } from \"antd\";\nimport moment from \"moment\";\nimport { PageService } from \"~/core/services/page.service\";\nimport TextArea from \"antd/lib/input/TextArea\";\nconst components = {\n  Wrapper: styled.section``,\n  HotCommentsWrapper: styled.div``,\n  CommentsWrapper: styled.div``,\n  CommentItemWrapper: styled.div`\n    padding: 20px 10px;\n\n    .avatar {\n      flex-basis: 70px;\n    }\n    .content {\n      font-size: 12px;\n      .time {\n        color: #aeaeae;\n      }\n    }\n    .replied {\n      background-color: #f5f5f5;\n      padding: 5px;\n    }\n    .action {\n      flex-basis: 100px;\n      color: #7f7f7f;\n    }\n  `\n};\n\ninterface CommentListProps {\n  source: (option?: any) => Observable<any>;\n}\n\ninterface CommentListState {\n  hotComments: any[];\n  comments: [];\n  value: \"\";\n}\n\nclass CommentList extends Component<CommentListProps, CommentListState> {\n  private pageService = new PageService();\n\n  constructor(props) {\n    super(props);\n    this.state = { hotComments: [], comments: [], value: \"\" };\n  }\n\n  public componentDidMount() {\n    this.getComments();\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        {this.getCommentEditor()}\n        <Divider></Divider>\n        {this.getHotCommentContainer()}\n        {this.getCommentContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public getCommentEditor() {\n    const onChange = e => {\n      this.setState({ value: e.target.value });\n    };\n\n    return (\n      <Row>\n        <Col span={24}>\n          <TextArea\n            placeholder=\"输入评论或@朋友\"\n            rows={4}\n            onChange={onChange}\n            value={this.state.value}\n          />\n        </Col>\n        <Col span={24} className=\"text-right padding-top\">\n          <Button shape=\"round\">评论</Button>\n        </Col>\n      </Row>\n    );\n  }\n\n  public getHotCommentContainer() {\n    const { hotComments } = this.state;\n\n    if (hotComments.length <= 0) {\n      return;\n    }\n\n    return (\n      <>\n        <components.HotCommentsWrapper>\n          <h4>精彩评论</h4>\n          <div>{hotComments.map(item => this.getCommentItem(item))}</div>\n        </components.HotCommentsWrapper>\n        <Divider></Divider>\n      </>\n    );\n  }\n\n  public getCommentContainer() {\n    const { comments } = this.state;\n\n    return (\n      <components.CommentsWrapper>\n        <h4>最新评论</h4>\n        <div>{comments.map(item => this.getCommentItem(item))}</div>\n        <div className=\"text-center\">\n          <Pagination\n            defaultPageSize={20}\n            onChange={(page, size) => this.onPageChange(page, size)}\n            defaultCurrent={1}\n            total={this.pageService.total}\n          />\n        </div>\n      </components.CommentsWrapper>\n    );\n  }\n\n  /**\n   * 获取评论项\n   * @param comment\n   */\n  public getCommentItem(comment) {\n    const { user } = comment;\n    const isLatest = Date.now() - comment.time < 1000 * 60 * 60;\n\n    const getAvatar = () => (\n      <div className=\"avatar\">\n        <Avatar size={50} src={user.avatarUrl}></Avatar>\n      </div>\n    );\n\n    const getBeReplied = () => {\n      if (comment.beReplied.length <= 0) {\n        return \"\";\n      }\n\n      return (\n        <div className=\"replied\">\n          {comment.beReplied.map(item => (\n            <div key={item.beRepliedCommentId} className=\"replied \">\n              <a>@{item.user.nickname}:</a>\n              <span>{item.content}</span>\n            </div>\n          ))}\n        </div>\n      );\n    };\n\n    const getContent = () => (\n      <div className=\"content flex-auto\">\n        <div>\n          <a>{user.nickname}:</a>\n          <span>{comment.content}</span>\n        </div>\n        {getBeReplied()}\n        <div className=\"time\">\n          {isLatest\n            ? moment(comment.time).fromNow()\n            : moment(comment.time).format(\"HH:MM\")}\n        </div>\n      </div>\n    );\n\n    const getAction = () => (\n      <div className=\"action flex-row justify-content-around\">\n        <Icon type=\"like\" />\n        <Icon type=\"share-alt\" />\n        <Icon type=\"message\" />\n      </div>\n    );\n\n    return (\n      <components.CommentItemWrapper\n        key={comment.commentId}\n        className=\"flex-row\"\n      >\n        {getAvatar()}\n        {getContent()}\n        {getAction()}\n      </components.CommentItemWrapper>\n    );\n  }\n\n  private getComments() {\n    const { source } = this.props;\n    source({\n      page: this.pageService\n    }).subscribe(({ comments, hotComments }) => {\n      this.setState({\n        comments,\n        hotComments: hotComments || []\n      });\n    });\n  }\n\n  private onPageChange(page, size) {\n    this.pageService.pageIndex = page;\n    this.pageService.pageSize = size;\n    this.getComments();\n  }\n}\n\nexport function PlayListCommentList(props) {\n  const commentService = new CommentService();\n\n  function getComments(options) {\n    return commentService.getPlayListComment(\n      new RequestParams(\n        {\n          id: props.id\n        },\n        {\n          ...options\n        }\n      )\n    );\n  }\n\n  return <CommentList source={getComments}></CommentList>;\n}\n\nexport function MVCommentList() {\n  return <div></div>;\n}\n\nexport function VideoCommentList() {\n  return <div></div>;\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { PlayListService } from \"~/services/playlist.service\";\nimport { RequestParams } from \"~/core/http\";\nimport { Row, Col, Avatar, Pagination } from \"antd\";\nimport { PageService } from \"~/core/services/page.service\";\n\nconst components = {\n  Wrapper: styled.section``\n};\n\ninterface CollectorListProps {\n  id: number;\n  count: number;\n}\n\ninterface CollectorListState {\n  collectors: any[];\n}\n\nexport default class CollectorList extends Component<\n  CollectorListProps,\n  CollectorListState\n> {\n  private pageService: PageService;\n  private playListService = new PlayListService();\n\n  constructor(props) {\n    super(props);\n    this.state = { collectors: [] };\n    this.pageService = new PageService({\n      pageSize: 60,\n      total: this.props.count\n    });\n  }\n\n  public componentDidMount() {\n    this.getCollectorsList();\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <Row>\n          {this.state.collectors.map(collector => (\n            <Col\n              key={collector.userId}\n              span={12}\n              className=\"padding flex-row align-items-center\"\n            >\n              <Avatar size={80} src={collector.avatarUrl}></Avatar>\n              <div className=\"padding-x\">\n                <span>{collector.nickname}</span>\n                <span style={{ paddingLeft: \"10px\" }}>\n                  {this.getUserAvatar(collector.gender)}\n                </span>\n              </div>\n            </Col>\n          ))}\n          <Col span={24} className=\"text-center\">\n            <Pagination\n              defaultPageSize={60}\n              onChange={(page, size) => this.onPageChange(page, size)}\n              defaultCurrent={1}\n              total={this.props.count}\n            />\n          </Col>\n        </Row>\n      </components.Wrapper>\n    );\n  }\n\n  public getUserAvatar(gender) {\n    if (gender === 0) {\n      return <></>;\n    }\n    const avatarStyles = {\n      1: { color: \"#489BCC\", backgroundColor: \"#CCF2FE\" },\n      2: { color: \"#DB4B80\", backgroundColor: \"#FCD0E7\" }\n    };\n    return <Avatar size={21} style={avatarStyles[gender]} icon=\"man\"></Avatar>;\n  }\n\n  /**\n   * 获取收藏者\n   */\n  private getCollectorsList() {\n    this.playListService\n      .getPlayListSubscribers(\n        new RequestParams(\n          {\n            id: this.props.id\n          },\n          {\n            page: this.pageService\n          }\n        )\n      )\n      .subscribe(({ subscribers }) => {\n        this.setState({\n          collectors: subscribers\n        });\n      });\n  }\n\n  private onPageChange(page, size) {\n    this.pageService.pageIndex = page;\n    this.pageService.pageSize = size;\n    this.getCollectorsList();\n  }\n}\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport { PlayListService } from \"~/services/playlist.service\";\nimport { RequestParams } from \"~/core/http\";\nimport { Avatar, Button, Tabs } from \"antd\";\nimport { tenThoursand, dateFormat } from \"~/shared/utils/common\";\nimport MusicList from \"~/components/shared/music-list\";\nimport { PlayListCommentList } from \"~/components/shared/comment-list\";\nimport CollectorList from \"~/components/shared/collector-list\";\n\nconst components = {\n  Wrapper: styled.section``,\n  HeaderWrapper: styled.div`\n    .coverImg {\n      width: 200px;\n      border-radius: 10px;\n    }\n    .info {\n      padding-left: 30px;\n      & > div {\n        margin-bottom: 10px;\n      }\n    }\n    .title {\n      .flag {\n        color: #cd5043;\n        border: solid 1px #cd5043;\n        border-radius: 3px;\n        padding: 2px 5px;\n      }\n      .name {\n        padding: 12px;\n        font-size: 20px;\n        font-weight: 500;\n      }\n    }\n    .creator {\n      .nickname {\n        font-size: 12px;\n        padding: 0 10px;\n      }\n\n      .create-time {\n        color: #aeaeae;\n      }\n    }\n    .action {\n      padding: 10px 0;\n      & > * {\n        margin-right: 15px;\n      }\n    }\n    .other {\n      font-size: 12px;\n      line-height: 25px;\n\n      .description {\n        white-space: nowrap;\n        width: 240px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        color: #7f7f7f;\n      }\n    }\n  `\n};\n\ninterface SongListState {\n  playlist: any;\n}\n\ninterface SongListProps {\n  id?: string;\n}\n\nexport class SongList extends Component<SongListProps, SongListState> {\n  private playListService = new PlayListService();\n\n  constructor(props) {\n    super(props);\n\n    this.state = { playlist: null };\n  }\n  public componentDidMount() {\n    this.getSongListDetail();\n  }\n\n  public render() {\n    const { playlist } = this.state;\n\n    return (\n      <components.Wrapper>\n        {playlist && this.getHeaderContainer()}\n        {playlist && this.getTabsContainer()}\n      </components.Wrapper>\n    );\n  }\n\n  public getHeaderContainer() {\n    const { playlist } = this.state;\n\n    return (\n      <components.HeaderWrapper className=\"flex-row\">\n        <div>\n          <img alt=\"\" className=\"coverImg\" src={playlist.coverImgUrl}></img>\n        </div>\n        <div className=\"flex-auto padding-left info\">\n          <div className=\"title\">\n            <span className=\"flag\">歌单</span>\n            <span className=\"name\">{playlist.name}</span>\n          </div>\n          <div className=\"creator\">\n            <Avatar\n              className=\"avatar\"\n              size={24}\n              src={playlist.creator.avatarUrl}\n            ></Avatar>\n            <a className=\"nickname\">{playlist.creator.nickname}</a>\n            <span className=\"create-time\">\n              {dateFormat(playlist.createTime)} 创建\n            </span>\n          </div>\n          <div className=\"action\">\n            <Button shape=\"round\">播放全部</Button>\n            <Button shape=\"round\">收藏</Button>\n            <Button shape=\"round\">分享</Button>\n            <Button shape=\"round\">下载全部</Button>\n          </div>\n          <div className=\"other\">\n            <div>\n              <span>标 签:</span>\n              {playlist.tags.map(item => (\n                <a key={item}>{item}</a>\n              ))}\n            </div>\n            <div>\n              <span className=\"margin-right\">\n                <span>歌曲数:</span>\n                <span>{playlist.tracks.length}</span>\n              </span>\n              <span>\n                <span>播放数:</span>\n                <span>{tenThoursand(playlist.playCount)}</span>\n              </span>\n            </div>\n            <div className=\"description\">简介: {playlist.description}</div>\n          </div>\n        </div>\n      </components.HeaderWrapper>\n    );\n  }\n\n  private getTabsContainer() {\n    const { playlist } = this.state;\n\n    return (\n      <Tabs>\n        <Tabs.TabPane tab=\"歌曲列表\" key=\"1\">\n          <MusicList ids={playlist.trackIds.map(x => x.id)}></MusicList>\n        </Tabs.TabPane>\n        <Tabs.TabPane tab={`评论 (${playlist.commentCount})`} key=\"2\">\n          <PlayListCommentList id={playlist.id}></PlayListCommentList>\n        </Tabs.TabPane>\n        <Tabs.TabPane tab=\"收藏者\" key=\"3\">\n          <CollectorList\n            id={playlist.id}\n            count={playlist.subscribedCount}\n          ></CollectorList>\n        </Tabs.TabPane>\n      </Tabs>\n    );\n  }\n\n  private getSongListDetail() {\n    const { id } = this.props;\n    this.playListService\n      .getPlayListDetail(new RequestParams({ id }))\n      .subscribe(({ playlist }) => {\n        this.setState({ playlist });\n      });\n  }\n}\n\nexport default function() {\n  const { id } = useParams();\n  return <SongList id={id}></SongList>;\n}\n","import { RequestMethod } from \"../../core/http\";\nimport { ControllerConfig } from \"../type.config\";\n\nconst Controller = \"toplist\";\n\n/**\n * 排行榜接口配置\n */\nexport const TopListController: ControllerConfig = {\n  /**\n   * 排行项目列表\n   */\n  topList: {\n    controller: Controller,\n    type: RequestMethod.Get\n  },\n  /**\n   * 歌手详情\n   */\n  topArtists: {\n    controller: Controller,\n    action: \"artist\",\n    type: RequestMethod.Get\n  }\n};\n","import { TopListController } from \"../config/services/top-list.controller\";\nimport { Request, RequestParams } from \"../core/http\";\nimport { Observable } from \"rxjs\";\n\n/**\n * 排行榜 API服务\n */\nexport class RankService {\n  /**\n   * 查询歌手排行\n   * @param requestParams\n   */\n  @Request({\n    server: TopListController.topArtists\n  })\n  public getTopArtists(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 查询排行榜歌单\n   * @param requestParams\n   */\n  @Request({\n    server: TopListController.topList\n  })\n  public getTopList(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { RequestParams } from \"~/core/http\";\nimport { Icon } from \"antd\";\nimport { PlayListService } from \"~/services/playlist.service\";\nimport { dateFormat } from \"~/shared/utils/common\";\nimport { RankService } from \"~/services/rank.service\";\nimport { Link } from \"react-router-dom\";\n\ntype TopListProp = {\n  id: string;\n  trackUpdateTime: number;\n  coverImgUrl: string;\n  ToplistType?: string;\n};\n\ntype TopListState = {\n  detail: any;\n  artists: any;\n  updateDate: number;\n};\n\nconst components = {\n  Wrapper: styled.div`\n    width: 320px;\n    height: 370px;\n    border: solid 1px #f2f2f2;\n  `,\n  Title: styled.div`\n    height: 100px;\n    flex-basis: 100px;\n    justify-content: space-between;\n\n    background-color: #6597e7;\n    .title-bg {\n      background-position: left center;\n      background-size: cover;\n      background-repeat: no-repeat;\n      height: 100%;\n      display: inline-block;\n      width: 180px;\n    }\n    .update-date {\n      font-size: 0.9em;\n      color: #ffffffd1;\n      align-self: flex-end;\n      margin-left: -15px;\n      margin-bottom: 5px;\n    }\n    .play {\n      font-size: 32px;\n      margin-right: 10px;\n      color: #fffdfd;\n      &:hover {\n        color: gray;\n        cursor: pointer;\n      }\n    }\n  `,\n  Body: styled.div`\n    flex: 1;\n    line-height: 30px;\n  `,\n  Footer: styled.div`\n    text-align: right;\n    padding: 0 10px;\n    height: 30px;\n    line-height: 30px;\n    background-color: #f8f8f8;\n    .link {\n      color: #b4b4b4;\n      &:hover {\n        color: gray;\n      }\n    }\n  `,\n  TrackItem: styled.div`\n    padding: 0 10px;\n    .index {\n      width: 10px;\n      color: gray;\n      font-size: 1.3em;\n      &-top {\n        color: red;\n      }\n    }\n    .t-name,\n    .at-name {\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n\n    .t-name {\n      flex: 1;\n    }\n    .at-name {\n      width: 75px;\n      text-align: right;\n    }\n\n    .status {\n      width: 30px;\n      text-align: center;\n      &.red {\n        color: red;\n      }\n      &.blue {\n        color: blue;\n      }\n      &.small {\n        font-size: 0.8em;\n      }\n      &.green {\n        font-size: 0.8em;\n        color: green;\n      }\n    }\n  `,\n  TrackStatus: styled.span`\n    font-size: 0.9em;\n    margin-left: 5px;\n  `\n};\n\nexport default class TopList extends React.Component<\n  TopListProp,\n  TopListState\n> {\n  constructor(props: TopListProp) {\n    super(props);\n    this.state = {\n      detail: null,\n      artists: null,\n      updateDate: props.trackUpdateTime\n    };\n  }\n\n  public componentDidMount() {\n    if (this.props.ToplistType) {\n      this.queryTrackList();\n    } else {\n      this.queryArtistList();\n    }\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <RankTitle\n          coverImgUrl={this.props.coverImgUrl}\n          updateDate={this.state.updateDate}\n          hiddenPlay={!this.props.ToplistType}\n        ></RankTitle>\n        {this.props.ToplistType ? (\n          <TrackList\n            {...this.state.detail}\n            listType={this.props.ToplistType}\n            id={this.props.id}\n          ></TrackList>\n        ) : (\n          <ArtistsList artists={this.state.artists}></ArtistsList>\n        )}\n      </components.Wrapper>\n    );\n  }\n\n  private queryTrackList() {\n    new PlayListService()\n      .getPlayListDetail(new RequestParams({ id: this.props.id }))\n      .subscribe(data => {\n        this.setState({\n          detail: {\n            tracks: data.playlist.tracks.slice(0, 8),\n            trackIds: data.playlist.trackIds.slice(0, 8)\n          },\n          updateDate: data.playlist.updateTime\n        });\n      });\n  }\n\n  private queryArtistList() {\n    new RankService().getTopArtists(new RequestParams()).subscribe(data => {\n      this.setState({\n        artists: data.list.artists.slice(0, 8),\n        updateDate: data.updateTime\n      });\n    });\n  }\n}\n\nclass RankTitle extends React.Component<{\n  coverImgUrl: string;\n  updateDate: number;\n  hiddenPlay?: boolean;\n}> {\n  public render() {\n    return (\n      <components.Title\n        className=\"flex-row align-items-center\"\n        style={{\n          backgroundImage: `url(${this.props.coverImgUrl})`\n        }}\n      >\n        <div\n          className=\"title-bg\"\n          style={{\n            backgroundImage: `url(${this.props.coverImgUrl})`\n          }}\n        ></div>\n        <div className=\"update-date\">{this.updateDateStr}</div>\n\n        {this.props.hiddenPlay ? (\n          <span />\n        ) : (\n          <Icon className=\"play\" type=\"play-circle\" />\n        )}\n      </components.Title>\n    );\n  }\n\n  private get updateDateStr() {\n    return dateFormat(this.props.updateDate, \"MM月dd日\") + \"更新\";\n  }\n}\n\nclass TrackList extends React.Component<{\n  tracks: any[];\n  trackIds: any[];\n  listType: string;\n  id: string;\n}> {\n  public render() {\n    if (!this.props.tracks) {\n      return <NoData></NoData>;\n    }\n    return (\n      <components.Body className=\"stripe\">\n        {this.props.tracks.map((item, index) => {\n          let cssName = \"status\";\n          let status = \"-\";\n          const trackIdInfo =\n            this.props.trackIds.find(x => x.id === item.id) || {};\n          const atName = item.ar.map(x => x.name).join(\"/\");\n\n          switch (this.props.listType) {\n            case \"S\":\n              cssName += \" small\";\n              status = trackIdInfo.ratio + \"%\";\n              break;\n            case \"N\":\n            case \"O\":\n            case \"H\":\n              const o_lr = trackIdInfo.lr;\n              if (!o_lr) {\n                status = \"new\";\n                cssName += \" green\";\n              } else if (o_lr > index) {\n                status = \"↑\";\n                cssName += \" red\";\n              } else if (o_lr < index) {\n                status = \"↓\";\n                cssName += \" blue\";\n              }\n              break;\n          }\n\n          return (\n            <components.TrackItem key={index} className=\"flex-row\">\n              <div className={getIndexClassName(index)}>{index + 1}</div>\n              <div className={cssName}>{status}</div>\n              <div className=\"t-name\">{item.name}</div>\n              <div className=\"at-name\" title={atName}>\n                {atName}\n              </div>\n            </components.TrackItem>\n          );\n        })}\n        <components.Footer>\n          <Link to={`/detail/song-list/${this.props.id}`} className=\"link\">\n            查看更多>\n          </Link>\n        </components.Footer>\n      </components.Body>\n    );\n  }\n}\n\nclass ArtistsList extends React.Component<{ artists: any[] }> {\n  public render() {\n    if (!this.props.artists) {\n      return <NoData></NoData>;\n    }\n\n    return (\n      <components.Body className=\"stripe\">\n        {this.props.artists.map((item, index) => {\n          let cssName = \"status\";\n          let status = \"-\";\n          if (item.lastRank < index) {\n            status = \"↓\";\n            cssName += \" blue\";\n          } else if (item.lastRank > index) {\n            status = \"↑\";\n            cssName += \" red\";\n          }\n          return (\n            <components.TrackItem key={index} className=\"flex-row\">\n              <div className={getIndexClassName(index)}>{index + 1}</div>\n              <div className={cssName}>{status}</div>\n              <div>{item.name}</div>\n            </components.TrackItem>\n          );\n        })}\n        <components.Footer>\n          <a href=\"#\" className=\"link\">\n            查看更多>\n          </a>\n        </components.Footer>\n      </components.Body>\n    );\n  }\n}\n\nfunction getIndexClassName(index: number) {\n  let name = \"index\";\n  if (index < 3) name += \" index-top\";\n  return name;\n}\n\nfunction NoData() {\n  return <components.Body>暂无数据</components.Body>;\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Icon } from \"antd\";\nimport { tenThoursand } from \"~/shared/utils/common\";\n\ntype TopBlockProp = {\n  name: string;\n  id: string;\n  playCount: number;\n  coverImgUrl: string;\n};\n\nconst components = {\n  Wrapper: styled.div`\n    position: relative;\n    &:hover {\n      cursor: pointer;\n    }\n  `,\n  Content: styled.div`\n    height: 150px;\n    width: 150px;\n    border: solid 1px #f2f2f2;\n    background-size: cover;\n\n    &:hover {\n      .play {\n        display: block;\n      }\n    }\n    .title {\n      position: absolute;\n      width: 80px;\n      top: 1px;\n      right: 1px;\n      height: 20px;\n      line-height: 20px;\n      text-align: right;\n      padding-right: 5px;\n      color: white;\n      font-size: 11px;\n      background-image: linear-gradient(90deg, #66666621 25%, #666666de 80%);\n    }\n    .play {\n      position: absolute;\n      bottom: 25px;\n      right: 5px;\n      display: none;\n      font-size: 24px;\n      color: #f2f2f2;\n      &:hover {\n        color: #000;\n      }\n    }\n  `,\n  Footer: styled.div`\n    line-height: 20px;\n    height: 20px;\n    font-size: 12px;\n  `\n};\n\n/**\n * 排行榜歌单 Block\n */\nexport default class TopBlock extends React.Component<TopBlockProp, any> {\n  private get playCount() {\n    return tenThoursand(this.props.playCount);\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <components.Content\n          style={{ backgroundImage: `url(${this.props.coverImgUrl})` }}\n        >\n          <div className=\"title\">\n            <Icon type=\"customer-service\" style={{ marginRight: \"10px\" }} />\n            {this.playCount}\n          </div>\n          <Icon className=\"play\" type=\"play-circle\" />\n        </components.Content>\n        <components.Footer>{this.props.name}</components.Footer>\n      </components.Wrapper>\n    );\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport TopList from \"~/components/discover/top-ranking/top-list\";\nimport { RankService } from \"~/services/rank.service\";\nimport { RequestParams } from \"~/core/http\";\nimport TopBlock from \"~/components/discover/top-ranking/top-block\";\n\nconst component = {\n  Wrapper: styled.section``,\n  Title: styled.div`\n    height: 40px;\n    font-size: 20px;\n    line-height: 40px;\n    border-bottom: solid 1px #f2f2f2;\n    margin: 10px auto;\n  `,\n  Official: styled.div`\n    min-height: 500px;\n    display: grid;\n    grid-template-columns: repeat(3, 33.33%);\n    grid-gap: 30px 12px;\n  `,\n  AnyTop: styled.div`\n    min-height: 300px;\n    display: grid;\n    grid-template-columns: repeat(6, 150px);\n    grid-gap: 30px 12px;\n  `\n};\n\ntype RankState = {\n  topList: any[];\n  artistTop: any;\n};\nexport default class TopRanking extends React.Component<any, RankState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topList: [],\n      artistTop: null\n    };\n  }\n\n  public componentDidMount() {\n    this.queryTopList();\n  }\n\n  public render() {\n    return (\n      <component.Wrapper>\n        <component.Title>官方榜</component.Title>\n        <component.Official>{this.getOfficialList()}</component.Official>\n        <component.Title>全球榜</component.Title>\n        <component.AnyTop>{this.getGlobalTopList()}</component.AnyTop>\n      </component.Wrapper>\n    );\n  }\n\n  /**\n   * 生成官方榜\n   */\n  private getOfficialList() {\n    if (!this.state.topList.length) {\n      return <div></div>;\n    }\n\n    return this.state.topList\n      .filter(x => x.ToplistType)\n      .concat(this.state.artistTop)\n      .map(item => {\n        return <TopList key={item.id} {...item}></TopList>;\n      });\n  }\n\n  /**\n   * 生成全球榜\n   */\n  private getGlobalTopList() {\n    if (!this.state.topList) {\n      return <div></div>;\n    }\n    return this.state.topList\n      .filter(x => !x.ToplistType)\n      .map(item => <TopBlock key={item.id} {...item}></TopBlock>);\n  }\n\n  /**\n   * 查询排行榜\n   */\n  private queryTopList() {\n    const rankService = new RankService();\n    rankService.getTopList(new RequestParams()).subscribe(data => {\n      this.setState({\n        topList: data.list,\n        artistTop: {\n          id: \"XX\",\n          trackUpdateTime: Date.now(),\n          coverImgUrl: data.artistToplist.coverUrl\n        }\n      });\n    });\n  }\n}\n","import { RequestMethod } from \"../../core/http\";\nimport { ControllerConfig } from \"../type.config\";\n\n// 控制器名称\nconst controller = \"dj\";\n\n/**\n * DJ接口配置\n */\nexport const DjController: ControllerConfig = {\n  // 获取Banner\n  banner: {\n    controller,\n    action: \"banner\",\n    type: RequestMethod.Get\n  },\n  // 获取电台分类\n  catelist: {\n    controller,\n    action: \"catelist\",\n    type: RequestMethod.Get\n  },\n  // 获取付费精选\n  paygift: {\n    controller,\n    action: \"paygift\",\n    type: RequestMethod.Get\n  },\n  // 电台 分类推荐\n  recommend: {\n    controller,\n    action: \"recommend/type\",\n    type: RequestMethod.Get\n  }\n};\n","import { Request, RequestParams } from \"../core/http\";\nimport { Observable } from \"rxjs\";\nimport { DjController } from \"~/config/services/dj.controller\";\n\n/**\n * Dj 电台 API服务\n */\nexport class DjService {\n  /**\n   * 查询Banner\n   * @param requestParams\n   */\n  @Request({\n    server: DjController.banner\n  })\n  public getBanner(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 查询电台分类\n   * @param requestParams\n   */\n  @Request({\n    server: DjController.catelist\n  })\n  public getCateList(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 查询付费精选 分页\n   * @param requestParams\n   */\n  @Request({\n    server: DjController.paygift\n  })\n  public queryPaygift(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n\n  /**\n   * 查询分类推荐\n   * @param requestParams\n   */\n  @Request({\n    server: DjController.recommend,\n    force: true\n  })\n  public queryRecommendByType(requestParams: RequestParams): Observable<any> {\n    return requestParams.request();\n  }\n}\n","import React from \"react\";\nimport { Carousel, Tag } from \"antd\";\nimport { DjService } from \"~/services/dj.service\";\nimport { RequestParams } from \"~/core/http\";\nimport styled from \"styled-components\";\n\ntype DjBannerState = {\n  banners: any[];\n};\n\nconst components = {\n  Wrapper: styled.div`\n    margin: 20px auto;\n    .banner-item {\n      position: relative;\n      .img {\n        width: 100%;\n      }\n      .tag {\n        position: absolute;\n        bottom: 5px;\n        right: -7px;\n        border-radius: 12px 0 0 12px;\n        padding-left: 14px;\n      }\n    }\n  `\n};\n\nexport default class DjBanner extends React.Component<any, DjBannerState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      banners: []\n    };\n  }\n\n  public componentDidMount() {\n    new DjService().getBanner(new RequestParams()).subscribe(data => {\n      this.setState({\n        banners: data.data\n      });\n    });\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <Carousel autoplay>\n          {this.state.banners.map(banner => (\n            <div className=\"banner-item\" key={banner.targetType}>\n              <img alt=\"\" src={banner.pic} className=\"img\"></img>\n              <Tag className=\"tag\" color=\"#ff0000cf\">\n                {banner.typeTitle}\n              </Tag>\n            </div>\n          ))}\n        </Carousel>\n      </components.Wrapper>\n    );\n  }\n}\n","import React from \"react\";\nimport { DjService } from \"~/services/dj.service\";\nimport { RequestParams } from \"~/core/http\";\nimport styled from \"styled-components\";\n\ntype CateListState = {\n  categories: CateInfo[] | null;\n};\n\nexport type CateInfo = {\n  id: string;\n  name: string;\n  picUrl: string;\n};\n\ntype CateListProps = {\n  onload: (data: CateInfo[]) => void;\n};\n\nconst components = {\n  Wrapper: styled.div`\n    margin: 20px auto;\n\n    .item-group {\n      & > div {\n        display: inline-block;\n      }\n    }\n  `,\n\n  Item: styled.div`\n    &:hover {\n      cursor: pointer;\n      background-color: #f2f2f2e8;\n      border-radius: 5px;\n    }\n    width: 80px;\n    padding: 10px 0;\n    margin: 0 20px;\n\n    .item-icon {\n      height: 32px;\n      width: 32px;\n      background-size: cover;\n      padding: 10px auto;\n      margin: auto;\n    }\n    .item-name {\n      text-align: center;\n      font-size: 0.9em;\n    }\n  `\n};\n\nexport default class CateList extends React.Component<\n  CateListProps,\n  CateListState\n> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: null\n    };\n  }\n\n  public componentDidMount() {\n    new DjService().getCateList(new RequestParams()).subscribe(data => {\n      this.setState({\n        categories: data.categories.map(x => {\n          return {\n            name: x.name,\n            id: x.id,\n            picUrl: x.picWebUrl\n          };\n        })\n      });\n      this.props.onload(this.state.categories!.splice(0, 5));\n    });\n  }\n\n  public render() {\n    if (!this.state.categories) {\n      return <div></div>;\n    }\n    return (\n      <components.Wrapper className=\"flex-row\">\n        {this.state.categories.map((item, index) => {\n          return (\n            <components.Item key={index}>\n              <div\n                className=\"item-icon\"\n                style={{ backgroundImage: `url(${item.picUrl})` }}\n              />\n              <div className=\"item-name\">{item.name}</div>\n            </components.Item>\n          );\n        })}\n      </components.Wrapper>\n    );\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Button } from \"antd\";\n\nconst components = {\n  Wrapper: styled.div`\n    margin: 10px 0 20px;\n    .header {\n      height: 35px;\n      border-bottom: solid 1px #e6e6e6;\n      justify-content: space-between;\n      align-items: baseline;\n      line-height: 30px;\n\n      .link {\n        font-size: 0.8em;\n        color: gray;\n        &:hover {\n          color: #000;\n        }\n      }\n    }\n  `\n};\n\ntype ContentProp = {\n  title: string;\n  onClick?: () => void;\n};\n\nexport default class ContentBlock extends React.Component<ContentProp> {\n  public render() {\n    return (\n      <components.Wrapper>\n        <div className=\"header flex-row \">\n          <h2>{this.props.title}</h2>\n          {this.props.onClick ? (\n            <Button type=\"link\" className=\"link\" onClick={this.props.onClick}>\n              更多 >\n            </Button>\n          ) : (\n            <div />\n          )}\n        </div>\n        {this.props.children}\n      </components.Wrapper>\n    );\n  }\n}\n","import React from \"react\";\nimport { DjService } from \"~/services/dj.service\";\nimport { RequestParams } from \"~/core/http\";\nimport styled from \"styled-components\";\nimport { Icon } from \"antd\";\n\ntype PayGiftState = {\n  items: any[] | null;\n};\n\nconst components = {\n  Wrapper: styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 50%);\n  `,\n  Item: styled.div`\n    width: 100%;\n    height: 120px;\n    margin: 10px 0;\n    .image {\n      flex-basis: 120px;\n      height: 100%;\n      &:hover {\n        cursor: pointer;\n      }\n    }\n    .content {\n      flex: 1;\n      padding: 0 5px;\n      .title {\n        font-size: 14px;\n        height: 30px;\n        line-height: 30px;\n      }\n      .text {\n        line-height: 20px;\n        height: 20px;\n        font-size: 12px;\n        color: #797777b8;\n      }\n      .price {\n        color: #cd0505;\n        font-size: 16px;\n        height: 40px;\n        line-height: 40px;\n      }\n    }\n  `\n};\n\nexport default class PayGift extends React.Component<any, PayGiftState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: null\n    };\n  }\n\n  public componentDidMount() {\n    new DjService()\n      .queryPaygift(new RequestParams({ limit: 4 }))\n      .subscribe(data => {\n        this.setState({\n          items: data.data.list\n        });\n      });\n  }\n\n  public render() {\n    if (!this.state.items) {\n      return <div />;\n    }\n    return (\n      <components.Wrapper>\n        {this.state.items.map((item, index) => (\n          <components.Item key={index} className=\"flex-row flex-nowrap\">\n            <div className=\"pic\">\n              <img src={item.picUrl} alt=\"\" className=\"image\" />\n            </div>\n            <div className=\"content\">\n              <h4 className=\"title\">{item.name}</h4>\n              <div className=\"text text-hidden\">{item.rcmdText}</div>\n              <div className=\"text text-hidden\">\n                <Icon type=\"caret-right\" />\n                {item.lastProgramName}\n              </div>\n              <div className=\"price\">\n                {this.moneyFormat(item.originalPrice)}\n              </div>\n            </div>\n          </components.Item>\n        ))}\n      </components.Wrapper>\n    );\n  }\n\n  private moneyFormat(value: number) {\n    let r = (value / 100).toFixed(0);\n    return \"￥\" + r;\n  }\n}\n","import React from \"react\";\nimport { DjService } from \"~/services/dj.service\";\nimport { RequestParams } from \"~/core/http\";\nimport styled from \"styled-components\";\n\ntype RecommendTypeState = {\n  items: any;\n};\n\ntype RecommendTypeProp = {\n  typeId: string;\n};\n\nconst components = {\n  Wrapper: styled.div`\n    height: 200px;\n    justify-content: space-between;\n    overflow: hidden;\n    margin-bottom: 20px;\n  `,\n  Block: styled.div`\n    width: 150px;\n    margin: 10px 0;\n    &:hover {\n      cursor: pointer;\n    }\n    .pic {\n      position: relative;\n      .img {\n        height: 150px;\n        width: 150px;\n      }\n      .name {\n        position: absolute;\n        bottom: 0;\n        width: 150px;\n        color: #fff;\n        font-size: 0.8em;\n        height: 25px;\n        line-height: 20px;\n        padding: 5px;\n        background-image: linear-gradient(0, #00000085, #00000000);\n      }\n    }\n    .rc-text {\n      font-size: 0.9em;\n    }\n  `\n};\n\nexport default class RecommendType extends React.Component<\n  RecommendTypeProp,\n  RecommendTypeState\n> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: null\n    };\n  }\n\n  public componentDidMount() {\n    new DjService()\n      .queryRecommendByType(new RequestParams({ type: this.props.typeId }))\n      .subscribe(data => {\n        this.setState({\n          items: data.djRadios.slice(0, 6)\n        });\n      });\n  }\n\n  public render() {\n    if (!this.state.items) {\n      return <components.Wrapper />;\n    }\n    return (\n      <components.Wrapper className=\"flex-row\">\n        {this.state.items.map((item, index) => (\n          <components.Block key={index} className=\"block\">\n            <div className=\"pic\">\n              <img src={item.picUrl} alt=\"\" className=\"img\" />\n              <div className=\"name\">{item.name}</div>\n            </div>\n            <div className=\"rc-text\">{item.rcmdtext}</div>\n          </components.Block>\n        ))}\n      </components.Wrapper>\n    );\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport DjBanner from \"~/components/discover/broadcast/banner\";\nimport CateList, { CateInfo } from \"~/components/discover/broadcast/cate-list\";\nimport ContentBlock from \"~/components/common/content-block\";\nimport PayGift from \"~/components/discover/broadcast/pay-gift\";\nimport RecommendType from \"~/components/discover/broadcast/recommend-top\";\n\nconst components = {\n  Wrapper: styled.section``\n};\n\ntype BroadcastState = {\n  hotMenus: CateInfo[] | null;\n};\n\nexport default class Broadcast extends React.Component<any, BroadcastState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hotMenus: null\n    };\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <DjBanner></DjBanner>\n        <CateList onload={data => this.setState({ hotMenus: data })}></CateList>\n        <ContentBlock title=\"付费精品\">\n          <PayGift />\n        </ContentBlock>\n        {this.getHotDjList()}\n      </components.Wrapper>\n    );\n  }\n\n  private getHotDjList() {\n    if (!this.state.hotMenus) return <div />;\n\n    return this.state.hotMenus.map(item => (\n      <ContentBlock key={item.id} title={item.name}>\n        <RecommendType typeId={item.id} />\n      </ContentBlock>\n    ));\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Button, Popover, Icon } from \"antd\";\nimport { PlayListService } from \"~/services/playlist.service\";\nimport { RequestParams } from \"~/core/http\";\n\nconst components = {\n  Wrapper: styled.div``,\n  Panel: styled.div`\n    width: 520px;\n    height: 300px;\n    overflow-y: auto;\n\n    .activated {\n      border-color: red;\n      color: red;\n    }\n  `,\n  TypeItem: styled.div`\n    margin: 5px 0;\n    .type-name {\n      flex-basis: 80px;\n    }\n    .cates {\n      flex: 1;\n      .ant-btn {\n        width: 80px;\n        font-size: 12px;\n      }\n    }\n    .hot {\n      color: red;\n    }\n  `\n};\n\ntype CategoryProp = {\n  onChange: (name: string) => void;\n};\n\ntype CategoryState = {\n  cTag: string;\n  resData: {\n    all: cateInfo;\n    sub: cateInfo[];\n    categories: { [key: string]: string };\n  } | null;\n};\n\ninterface cateInfo {\n  name: string;\n  category: string;\n  hot: boolean;\n}\n\nexport default class CategoryPanel extends React.Component<\n  CategoryProp,\n  CategoryState\n> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cTag: \"\",\n      resData: null\n    };\n  }\n\n  public componentDidMount() {\n    new PlayListService().getAllTags(new RequestParams()).subscribe(data => {\n      this.setState({\n        cTag: data.all.name,\n        resData: data\n      });\n    });\n  }\n\n  public render() {\n    if (!this.state.resData) return <components.Wrapper></components.Wrapper>;\n    return (\n      <components.Wrapper>\n        <Popover\n          style={{ padding: 0 }}\n          title=\"选择标签\"\n          trigger=\"click\"\n          placement=\"bottomLeft\"\n          content={this.getContent()}\n        >\n          <Button>\n            {this.state.cTag}\n            <Icon type=\"down\" />\n          </Button>\n        </Popover>\n      </components.Wrapper>\n    );\n  }\n\n  private getContent() {\n    if (!this.state.resData) return <div></div>;\n\n    const allName = this.state.resData!.all.name;\n\n    return (\n      <components.Panel>\n        <div>\n          <Button\n            onClick={() => this.cateChange(allName)}\n            className={allName === this.state.cTag ? \"activated\" : \"\"}\n            block\n          >\n            {allName}\n          </Button>\n        </div>\n        {Object.entries(this.state.resData.categories).map(([k, v]) => {\n          const cates = this.state.resData!.sub.filter(\n            x => x.category.toString() === k.toString()\n          );\n          return (\n            <components.TypeItem key={k} className=\"flex-row\">\n              <div className=\"type-name\">{v}</div>\n              <div className=\"cates\">\n                {cates.map(item => (\n                  <Button\n                    className={item.name === this.state.cTag ? \"activated\" : \"\"}\n                    key={item.name}\n                    onClick={() => this.cateChange(item.name)}\n                  >\n                    {item.name}\n                    {item.hot ? (\n                      <Icon type=\"check-square\" className=\"hot\" />\n                    ) : (\n                      <span />\n                    )}\n                  </Button>\n                ))}\n              </div>\n            </components.TypeItem>\n          );\n        })}\n      </components.Panel>\n    );\n  }\n\n  private cateChange(name: string) {\n    this.setState({\n      cTag: name\n    });\n    this.props.onChange(name);\n  }\n}\n","import React from \"react\";\nimport { PlayListService } from \"~/services/playlist.service\";\nimport { RequestParams } from \"~/core/http\";\nimport styled from \"styled-components\";\nimport { Icon } from \"antd\";\nimport { tenThoursand } from \"~/shared/utils/common\";\n\ntype DetailState = {\n  playDataSet: any[];\n  pageIndex: number;\n};\n\nconst components = {\n  Wrapper: styled.div`\n    margin: 20px 0;\n    justify-content: space-between;\n  `,\n  Block: styled.div`\n    position: relative;\n    width: 180px;\n    margin: 10px 0;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    .img {\n      height: 180px;\n    }\n    .play-count {\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: 100px;\n      height: 20px;\n      line-height: 20px;\n      text-align: right;\n      padding-right: 5px;\n      color: white;\n      font-size: 11px;\n      background-image: linear-gradient(90deg, #66666621 25%, #666666de 80%);\n    }\n    .creater {\n      position: absolute;\n      top: 155px;\n      left: 0;\n      width: 180px;\n      color: #fff;\n      font-size: 11px;\n      height: 25px;\n      line-height: 20px;\n      padding: 5px;\n      background-image: linear-gradient(0, #00000085, #00000000);\n    }\n    .play-list-name {\n    }\n  `\n};\n\nexport default class PlayListDetail extends React.Component<\n  { tag: string },\n  DetailState\n> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      playDataSet: [],\n      pageIndex: 0\n    };\n  }\n\n  private playlistService = new PlayListService();\n\n  public componentDidMount() {\n    this.queryPlayList();\n  }\n\n  public componentDidUpdate(prevProps) {\n    if (prevProps.tag !== this.props.tag) {\n      this.queryPlayList();\n    }\n  }\n\n  public render() {\n    if (!this.props.tag) return <components.Wrapper></components.Wrapper>;\n\n    return (\n      <components.Wrapper className=\"flex-row\">\n        {this.state.playDataSet.map((item, index) => (\n          <Block\n            key={index}\n            pic={item.coverImgUrl}\n            name={item.name}\n            playCount={item.playCount}\n            nickName={item.creator.nickname}\n          ></Block>\n        ))}\n      </components.Wrapper>\n    );\n  }\n\n  private queryPlayList() {\n    this.playlistService\n      .getPlayListByTag(\n        new RequestParams({\n          cat: this.props.tag,\n          order: \"hot\",\n          limit: 10\n        })\n      )\n      .subscribe(data => {\n        this.setState({ playDataSet: data.playlists });\n      });\n  }\n}\n\ntype BlockProp = {\n  pic: string;\n  name: string;\n  nickName: string;\n  playCount: number;\n};\n\nclass Block extends React.Component<BlockProp> {\n  public render() {\n    return (\n      <components.Block>\n        <img src={this.props.pic} className=\"img\" />\n        <div className=\"play-count\">\n          <Icon type=\"customer-service\" />\n          {tenThoursand(this.props.playCount)}\n        </div>\n        <div className=\"creater\">\n          <Icon type=\"user\" />\n          {this.props.nickName}\n        </div>\n        <div className=\"play-list-name\">{this.props.name}</div>\n      </components.Block>\n    );\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { PlayListService } from \"~/services/playlist.service\";\nimport { RequestParams } from \"~/core/http\";\nimport CategoryPanel from \"~/components/discover/play-list/category-panel\";\nimport PlayListDetail from \"~/components/discover/play-list/play-list-detail\";\n\nconst components = {\n  Wrapper: styled.section`\n    margin: 20px 0;\n    font-size: 13px;\n  `,\n  Tags: styled.div`\n    height: 12px;\n    line-height: 12px;\n    margin: 10px 0;\n    .tag {\n      padding: 0 20px;\n      .tag-btn {\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n    .tag + .tag {\n      border-left: solid 1px #dbdbdb;\n    }\n  `,\n  Container: styled.div``\n};\n\ntype PlayListState = {\n  tags: any[] | null;\n  cTag: string;\n};\n\n/**\n * 发现音乐--歌单\n */\nexport default class PlayList extends React.Component<any, PlayListState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: null,\n      cTag: \"全部\"\n    };\n  }\n\n  public componentDidMount() {\n    new PlayListService().getHotTags(new RequestParams()).subscribe(data => {\n      this.setState({\n        tags: data.tags\n      });\n    });\n  }\n\n  public render() {\n    return (\n      <components.Wrapper>\n        <CategoryPanel\n          onChange={name => this.setState({ cTag: name })}\n        ></CategoryPanel>\n        {this.getTagsElement()}\n        <PlayListDetail tag={this.state.cTag}></PlayListDetail>\n      </components.Wrapper>\n    );\n  }\n\n  private getTagsElement() {\n    if (!this.state.tags) return <div />;\n    return (\n      <components.Tags className=\"flex-row\">\n        <div>热门标签:</div>\n        {this.state.tags.map(item => (\n          <div key={item.id} className=\"tag\">\n            <span\n              className=\"tag-btn\"\n              onClick={() => this.setState({ cTag: item.name })}\n            >\n              {item.name}\n            </span>\n          </div>\n        ))}\n      </components.Tags>\n    );\n  }\n}\n","import React from \"react\";\nimport {\n  BrowserRouter,\n  Switch,\n  Route,\n  Redirect,\n  useLocation,\n  useHistory,\n  useParams\n} from \"react-router-dom\";\nimport Recommend from \"./pages/discover/recommend\";\nimport { useStore } from \"reto\";\nimport { RouterStore } from \"./store/router.store\";\nimport Index from \"./pages\";\nimport SongListDetail from \"./pages/detail/song-list\";\nimport TopRanking from \"./pages/discover/top-ranking\";\nimport Broadcast from \"./pages/discover/broadcast\";\nimport PlayList from \"./pages/discover/playlist\";\n\nfunction RouterContainer() {\n  // 安装useLocation\n  const location = useLocation();\n  const history = useHistory();\n  const params = useParams();\n  const routerStore = useStore(RouterStore);\n\n  React.useEffect(() => {\n    routerStore.updateLocation(location);\n    routerStore.updateHistory(history);\n    routerStore.updateParams(params);\n  }, [location, history, params, routerStore]);\n\n  const baseHref = process.env.REACT_APP_BASEHREF\n  const setPath = (path)=>`${baseHref||\"\"}${path}`\n  \n  return (\n    <Switch>\n      <Route exact path={setPath(\"/\")}>\n        <Redirect push to={setPath(\"/discover/recommend\")}></Redirect>\n      </Route>\n      <Route path={setPath(\"/discover/recommend\")} children={<Recommend />}></Route>\n      <Route path={setPath(\"/discover/ranking\")}  children={<TopRanking />}></Route>\n      <Route path={setPath(\"/discover/broadcast\")} children={<Broadcast />}></Route>\n      <Route path={setPath(\"/discover/playlist\")} children={<PlayList />}></Route>\n      <Route path={setPath(\"/fm\")} children={<Index />}></Route>\n      <Route path={setPath(\"/detail/song-list/:id\")}  children={<SongListDetail />}></Route>\n    </Switch>\n  );\n}\n\nexport default function Router() {\n  return (\n    <BrowserRouter>\n      <RouterContainer></RouterContainer>\n    </BrowserRouter>\n  );\n}\n","import React, { Component, Props } from \"react\";\nimport styled from \"styled-components\";\nimport Header from \"./components/default/header.component\";\nimport SideMenu from \"./components/default/side-menu.component\";\nimport Footer from \"./components/default/footer.component\";\nimport { FlexRow, FlexColumn } from \"../shared/components\";\nimport Router from \"../Router\";\n\nconst components = {\n  HeaderWrap: styled.div`\n    flex-basis: 50px;\n    height: 50px;\n    min-height: 50px;\n    position: relative;\n    background-color: #f7f7f7;\n  `,\n  SideMenuWrap: styled.div`\n    flex-basis: 200px;\n    width: 200px;\n    overflow: auto;\n    position: relative;\n    background-color: #ededed;\n  `,\n  FooterWrap: styled.div`\n    flex-basis: 50px;\n    height: 50px;\n    min-height: 50px;\n    position: relative;\n  `,\n  ContentWrap: styled.section`\n    flex: 1;\n    position: relative;\n  `,\n  Content: styled.main`\n    overflow: auto;\n    max-width: 1100px;\n    min-width: 700px;\n    padding: 10px 25px;\n  `\n};\n\nconst styles = (\n  props?: Props<any>\n): { [key: string]: React.CSSProperties } => ({\n  autoFlex: {\n    flex: 1,\n    position: \"relative\"\n  },\n  full: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n});\n\nexport class DefaultLayout extends Component {\n  public render() {\n    return (\n      <FlexColumn style={styles().full}>\n        {this.layoutHeader()}\n        <div style={styles().autoFlex}>\n          <FlexRow className=\"full-absolute\">\n            {this.layoutSideMenu()}\n            {this.lauyoutContent()}\n          </FlexRow>\n        </div>\n        {this.lauyoutFooter()}\n      </FlexColumn>\n    );\n  }\n\n  public layoutHeader() {\n    return (\n      <components.HeaderWrap>\n        <Header></Header>\n      </components.HeaderWrap>\n    );\n  }\n\n  public layoutSideMenu() {\n    return (\n      <components.SideMenuWrap>\n        <SideMenu></SideMenu>\n      </components.SideMenuWrap>\n    );\n  }\n\n  public lauyoutFooter() {\n    return (\n      <components.FooterWrap>\n        <Footer></Footer>\n      </components.FooterWrap>\n    );\n  }\n\n  public lauyoutContent() {\n    return (\n      <components.ContentWrap>\n        <components.Content className=\"full-absolute\">\n          <Router></Router>\n        </components.Content>\n      </components.ContentWrap>\n    );\n  }\n}\n","import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { Provider as StoreProvider } from \"reto\";\n\nexport function MenuStore() {\n  const [menu, updateMenu] = useState({} as any);\n\n  useEffect(() => {}, [menu]);\n\n  function update(value) {\n    updateMenu(value);\n  }\n\n  return {\n    menu,\n    update\n  };\n}\n\nexport const MenuProvider = props => {\n  return <StoreProvider of={MenuStore}>{props.children}</StoreProvider>;\n};\n","import React from \"react\";\n\nimport { RouterProvider } from \"./router.store\";\nimport { MenuProvider } from \"./menu.store\";\nimport { AuthStoreProvider } from \"./auth.store\";\nimport { AudioStoreProvider } from \"./audio.store\";\n\nconst providers: any[] = [\n  RouterProvider,\n  MenuProvider,\n  AuthStoreProvider,\n  AudioStoreProvider\n];\n\nconst ProvidersComposer = props =>\n  props.providers.reduceRight(\n    (children, Parent) => <Parent>{children}</Parent>,\n    props.children\n  );\n\nexport const Provider = props => {\n  return (\n    <ProvidersComposer providers={providers}>\n      {props.children}\n    </ProvidersComposer>\n  );\n};\n","import React, { Component } from \"react\";\nimport { DefaultLayout } from \"./layout/default.layout\";\nimport { Provider } from \"./store\";\nexport default class App extends Component {\n  public render() {\n    return (\n      <div className=\"app\">\n        <Provider>\n          <DefaultLayout></DefaultLayout>\n        </Provider>\n      </div>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export default {\n  server: process.env.REACT_APP_SERVER, // 后端服务地址\n  debug: process.env.NODE_ENV === 'development',\n  timeout: process.env.REACT_APP_TIMEOUT\n}\n","import httpBoot from './http.boot'\n\nexport default function () {\n  httpBoot()\n}","import { RequestService } from \"../core/http\";\nimport appConfig from \"../config/app.config\";\n\nexport default function () {\n  // 配置服务端信息\n  RequestService.setConfig({\n    server: appConfig.server,\n    timeout: appConfig.timeout\n  })\n\n  // 状态拦截器\n  RequestService.interceptors.status.use(respone => respone.status === 200)\n\n  // 添加成功拦截器\n  RequestService.interceptors.success.use(respone => respone.data)\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./assets/styles/style.less\";\nimport bootstrap from \"./bootstrap\";\n\nfunction startUp() {\n  bootstrap();\n\n  ReactDOM.render(<App />, document.getElementById(\"root\"));\n\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: https://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n}\n\nstartUp();\n","export * from './enums'\nexport * from './interfaces'\nexport * from './request-object'\nexport * from './request-params'\nexport * from './request-service'\nexport * from './request-interceptor'\nexport * from './request-option'\nexport * from './extend-service'\nexport * from '../decorators/request.decorators'\n","import { AxiosResponse } from 'axios'\n\n/**\n * 请求拦截器\n */\nexport class RequestInterceptor<T> {\n  /**\n   * 拦截器状态\n   */\n  public defined: boolean = false\n\n  /**\n   * 拦截器\n   */\n  public interceptor!: (response: AxiosResponse) => T\n\n  /**\n   * 注册拦截器\n   * @param callback\n   */\n  public use(callback: (response: AxiosResponse) => T) {\n    this.defined = true\n    this.interceptor = callback\n  }\n}\n"],"sourceRoot":""}